/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{525:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return jr})),n.d(t,"b",(function(){return Dr})),n.d(t,"c",(function(){return Sr})),n.d(t,"d",(function(){return Er}));var r=n(60),o=n(75),l=n(3),c=n(94);const h="@firebase/database",d="0.13.4";let f="";class _{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(l.L)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(l.E)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class v{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Object(l.m)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const m=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _(t)}}catch(e){}return new v},y=m("localStorage"),w=m("sessionStorage"),x=new c.b("@firebase/database"),k=function(){let e=1;return function(){return e++}}(),C=function(e){const t=Object(l.K)(e),n=new l.d;n.update(t);const r=n.digest();return l.h.encodeByteArray(r)},O=function(...e){let t="";for(let i=0;i<e.length;i++){const n=e[i];Array.isArray(n)||n&&"object"==typeof n&&"number"==typeof n.length?t+=O.apply(null,n):t+="object"==typeof n?Object(l.L)(n):n,t+=" "}return t};let T=null,I=!0;const S=function(e,t){Object(l.f)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(x.logLevel=c.a.VERBOSE,T=x.log.bind(x),t&&w.set("logging_enabled",!0)):"function"==typeof e?T=e:(T=null,w.remove("logging_enabled"))},P=function(...e){if(!0===I&&(I=!1,null===T&&!0===w.get("logging_enabled")&&S(!0)),T){const t=O.apply(null,e);T(t)}},E=function(e){return function(...t){P(e,...t)}},j=function(...e){const t="FIREBASE INTERNAL ERROR: "+O(...e);x.error(t)},N=function(...e){const t=`FIREBASE FATAL ERROR: ${O(...e)}`;throw x.error(t),new Error(t)},R=function(...e){const t="FIREBASE WARNING: "+O(...e);x.warn(t)},A=function(data){return"number"==typeof data&&(data!=data||data===Number.POSITIVE_INFINITY||data===Number.NEGATIVE_INFINITY)},M="[MIN_NAME]",D="[MAX_NAME]",F=function(a,b){if(a===b)return 0;if(a===M||b===D)return-1;if(b===M||a===D)return 1;{const e=Y(a),t=Y(b);return null!==e?null!==t?e-t==0?a.length-b.length:e-t:-1:null!==t?1:a<b?-1:1}},L=function(a,b){return a===b?0:a<b?-1:1},$=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(l.L)(t))},z=function(e){if("object"!=typeof e||null===e)return Object(l.L)(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=Object(l.L)(t[i]),n+=":",n+=z(e[t[i]]);return n+="}",n},U=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function B(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const V=function(e){Object(l.f)(!A(e),"Invalid JSON number");const t=1023;let s,n,r,o,i;0===e?(n=0,r=0,s=1/e==-1/0?1:0):(s=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),n=o+t,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const c=[];for(i=52;i;i-=1)c.push(r%2?1:0),r=Math.floor(r/2);for(i=11;i;i-=1)c.push(n%2?1:0),n=Math.floor(n/2);c.push(s?1:0),c.reverse();const h=c.join("");let d="";for(i=0;i<64;i+=8){let e=parseInt(h.substr(i,8),2).toString(16);1===e.length&&(e="0"+e),d+=e}return d.toLowerCase()};const W=new RegExp("^-?(0*)\\d{1,10}$"),H=-2147483648,G=2147483647,Y=function(e){if(W.test(e)){const t=Number(e);if(t>=H&&t<=G)return t}return null},K=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw R("Exception was thrown by user callback.",t),e}),Math.floor(0))}},X=function(e,time){const t=setTimeout(e,time);return"object"==typeof t&&t.unref&&t.unref(),t};class Q{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){R(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class J{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(P("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',R(e)}}class Z{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Z.OWNER="owner";const ee="5",te=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ne="websocket",ie="long_polling";class re{constructor(e,t,n,r,o=!1,l="",c=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=y.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&y.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function se(e,t,n){let r;if(Object(l.f)("string"==typeof t,"typeof type must == string"),Object(l.f)("object"==typeof n,"typeof params must == object"),t===ne)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ie)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const o=[];return B(n,((e,t)=>{o.push(e+"="+t)})),r+o.join("&")}class oe{constructor(){this.counters_={}}incrementCounter(e,t=1){Object(l.m)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Object(l.p)(this.counters_)}}const ae={},le={};function ce(e){const t=e.toString();return ae[t]||(ae[t]=new oe),ae[t]}class he{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,data){for(this.pendingResponses[e]=data;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<e.length;++i)e[i]&&K((()=>{this.onMessage_(e[i])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ue="start";class de{constructor(e,t,n,r,o,l,c){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=ce(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),se(t,ie,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new he(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(l.B)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new pe(((...e)=>{const[t,n,r,o,l]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===ue)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,data]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,data)}),(()=>{this.onClosed_()}),this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=ee,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&te.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){de.forceAllow_=!0}static forceDisallow(){de.forceDisallow_=!0}static isAvailable(){return!Object(l.B)()&&(!!de.forceAllow_||!(de.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(data){const e=Object(l.L)(data);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const t=Object(l.j)(e),n=U(t,1840);for(let i=0;i<n.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Object(l.B)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Object(l.L)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class pe{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(l.B)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=k(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=pe.createIFrame_();let script="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){script='<script>document.domain="'+document.domain+'";<\/script>'}const n="<html><body>"+script+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(n),this.myIFrame.doc.close()}catch(e){P("frame writing exception"),e.stack&&P(e.stack),P(e)}}}static createIFrame_(){const iframe=document.createElement("iframe");if(iframe.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(iframe);try{iframe.contentWindow.document||P("No IE domain setting required")}catch(e){const t=document.domain;iframe.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return iframe.contentDocument?iframe.doc=iframe.contentDocument:iframe.contentWindow?iframe.doc=iframe.contentWindow.document:iframe.document&&(iframe.doc=iframe.document),iframe}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,data){this.pendingSegs.push({seg:e,ts:t,d:data}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Object(l.B)()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{P("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let fe=null;"undefined"!=typeof MozWebSocket?fe=MozWebSocket:"undefined"!=typeof WebSocket&&(fe=WebSocket);class _e{constructor(e,t,n,r,o,l,c){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=ce(t),this.connURL=_e.connectionURL_(t,l,c,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,o){const c={};return c.v=ee,!Object(l.B)()&&"undefined"!=typeof location&&location.hostname&&te.test(location.hostname)&&(c.r="f"),t&&(c.s=t),n&&(c.ls=n),r&&(c.ac=r),o&&(c.p=o),se(e,ne,c)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,y.set("previous_websocket_failure",!0);try{let t;if(Object(l.B)()){const n=this.nodeAdmin?"AdminNode":"Node";t={headers:{"User-Agent":`Firebase/5/${f}/${e.platform}/${n}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(t.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const r=e.env,o=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;o&&(t.proxy={origin:o})}this.mySock=new fe(this.connURL,[],t)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){_e.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==fe&&!_e.forceDisallow_}static previouslyFailed(){return y.isInMemoryStorage||!0===y.get("previous_websocket_failure")}markConnectionHealthy(){y.remove("previous_websocket_failure")}appendFrame_(data){if(this.frames.push(data),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Object(l.E)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(data){if(Object(l.f)(null===this.frames,"We already have a frame buffer"),data.length<=6){const e=Number(data);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),data}handleIncomingFrame(e){if(null===this.mySock)return;const data=e.data;if(this.bytesReceived+=data.length,this.stats_.incrementCounter("bytes_received",data.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(data);else{const e=this.extractFrameCount_(data);null!==e&&this.appendFrame_(e)}}send(data){this.resetKeepAlive();const e=Object(l.L)(data);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const t=U(e,16384);t.length>1&&this.sendString_(String(t.length));for(let i=0;i<t.length;i++)this.sendString_(t[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_e.responsesRequiredToBeHealthy=2,_e.healthyTimeout=3e4;class ve{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[de,_e]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=_e&&_e.isAvailable();let n=t&&!_e.previouslyFailed();if(e.webSocketOnly&&(t||R("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[_e];else{const e=this.transports_=[];for(const t of ve.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ve.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ve.globalTransportInitialized_=!1;class ge{constructor(e,t,n,r,o,l,c,h,d,f){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new ve(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=X((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=$("t",e),data=$("d",e);if("c"===t)this.onSecondaryControl_(data);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(data)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=$("t",e),data=$("d",e);"c"===t?this.onControl_(data):"d"===t&&this.onDataMessage_(data)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=$("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?j("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):j("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ee!==n&&R("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),X((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(y.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(data){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(data)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class me{put(e,data,t,n){}merge(e,data,t,n){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,data,t){}onDisconnectMerge(e,data,t){}onDisconnectCancel(e,t){}reportStats(e){}}class be{constructor(e){this.allowedEvents_=e,this.listeners_={},Object(l.f)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Object(l.f)(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class ye extends be{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(l.A)()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new ye}getInitialEvent(e){return Object(l.f)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class we{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[t]=this.pieces_[i],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(e+="/"+this.pieces_[i]);return e||"/"}}function xe(){return new we("")}function ke(path){return path.pieceNum_>=path.pieces_.length?null:path.pieces_[path.pieceNum_]}function Ce(path){return path.pieces_.length-path.pieceNum_}function Oe(path){let e=path.pieceNum_;return e<path.pieces_.length&&e++,new we(path.pieces_,e)}function Te(path){return path.pieceNum_<path.pieces_.length?path.pieces_[path.pieces_.length-1]:null}function Ie(path,e=0){return path.pieces_.slice(path.pieceNum_+e)}function Se(path){if(path.pieceNum_>=path.pieces_.length)return null;const e=[];for(let i=path.pieceNum_;i<path.pieces_.length-1;i++)e.push(path.pieces_[i]);return new we(e,0)}function Pe(path,e){const t=[];for(let i=path.pieceNum_;i<path.pieces_.length;i++)t.push(path.pieces_[i]);if(e instanceof we)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const n=e.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&t.push(n[i])}return new we(t,0)}function Ee(path){return path.pieceNum_>=path.pieces_.length}function je(e,t){const n=ke(e),r=ke(t);if(null===n)return t;if(n===r)return je(Oe(e),Oe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ne(path,e){if(Ce(path)!==Ce(e))return!1;for(let i=path.pieceNum_,t=e.pieceNum_;i<=path.pieces_.length;i++,t++)if(path.pieces_[i]!==e.pieces_[t])return!1;return!0}function Re(path,e){let i=path.pieceNum_,t=e.pieceNum_;if(Ce(path)>Ce(e))return!1;for(;i<path.pieces_.length;){if(path.pieces_[i]!==e.pieces_[t])return!1;++i,++t}return!0}class Ae{constructor(path,e){this.errorPrefix_=e,this.parts_=Ie(path,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Object(l.J)(this.parts_[i]);Me(this)}}function Me(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+De(e))}function De(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Fe extends be{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Fe}getInitialEvent(e){return Object(l.f)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Le=1e3;class qe extends me{constructor(e,t,n,r,o,c,h,d){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=qe.nextPersistentConnectionId_++,this.log_=E("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Le,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!Object(l.B)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Fe.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ye.getInstance().on("online",this.onOnline_,this)}sendRequest(e,body,t){const n=++this.requestNumber_,r={r:n,a:e,b:body};this.log_(Object(l.L)(r)),Object(l.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),t&&(this.requestCBHash_[n]=t)}get(e){this.initConnection_();const t=new l.a,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),Object(l.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(l.f)(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const o={p:n};e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(o=>{const l=o.d,c=o.s;qe.warnOnListenWarnings_(l,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",o),"ok"!==c&&this.removeListen_(n,r),e.onComplete&&e.onComplete(c,l))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&Object(l.m)(e,"w")){const n=Object(l.I)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();R(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||Object(l.v)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Object(l.D)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,data=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,data))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,data=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,data)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(l.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)}onDisconnectPut(e,data,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,data,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:data,onComplete:t})}onDisconnectMerge(e,data,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,data,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:data,onComplete:t})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,data,n){const r={p:t,d:data};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,(e=>{n&&setTimeout((()=>{n(e.s,e.d)}),Math.floor(0))}))}put(e,data,t,n){this.putInternal("p",e,data,t,n)}merge(e,data,t,n){this.putInternal("m",e,data,t,n)}putInternal(e,t,data,n,r){this.initConnection_();const o={p:t,d:data};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:n}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Object(l.L)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,body){this.log_("handleServerMessage",e,body),"d"===e?this.onDataUpdate_(body.p,body.d,!1,body.t):"m"===e?this.onDataUpdate_(body.p,body.d,!0,body.t):"c"===e?this.onListenRevoked_(body.p,body.q):"ac"===e?this.onAuthRevoked_(body.s,body.d):"apc"===e?this.onAppCheckRevoked_(body.s,body.d):"sd"===e?this.onSecurityDebugPacket_(body):j("Unrecognized action received from server: "+Object(l.L)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Object(l.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Le,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Le,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Le),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+qe.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,n())},f=function(e){Object(l.f)(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(e)};this.realtime_={close:d,sendRequest:f};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[l,d]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);c?P("getToken() completed but was canceled"):(P("getToken() completed. Creating connection."),this.authToken_=l&&l.accessToken,this.appCheckToken_=d&&d.token,h=new ge(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{R(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),o))}catch(e){this.log_("Failed to get token: "+e),c||(this.repoInfo_.nodeAdmin&&R(e),d())}}}interrupt(e){P("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){P("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(l.x)(this.interruptReasons_)&&(this.reconnectDelay_=Le,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let i=0;i<this.outstandingPuts_.length;i++){const e=this.outstandingPuts_[i];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((q=>z(q))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new we(e).toString();let r;if(this.listens.has(n)){const map=this.listens.get(n);r=map.get(t),map.delete(t),0===map.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){P("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){P("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(body){this.securityDebugCallback_?this.securityDebugCallback_(body):"msg"in body&&console.log("FIREBASE: "+body.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)}sendConnectStats_(){const e={};let t="js";Object(l.B)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+f.replace(/\./g,"-")]=1,Object(l.A)()?e["framework.cordova"]=1:Object(l.C)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ye.getInstance().currentlyOnline();return Object(l.x)(this.interruptReasons_)&&e}}qe.nextPersistentConnectionId_=0,qe.nextConnectionId_=0;class $e{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new $e(e,t)}}class ze{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new $e(M,e),r=new $e(M,t);return 0!==this.compare(n,r)}minPost(){return $e.MIN}}let Ue;class Be extends ze{static get __EMPTY_NODE(){return Ue}static set __EMPTY_NODE(e){Ue=e}compare(a,b){return F(a.name,b.name)}isDefinedOn(e){throw Object(l.g)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return $e.MIN}maxPost(){return new $e(D,Ue)}makePost(e,t){return Object(l.f)("string"==typeof e,"KeyIndex indexValue must always be a string."),new $e(e,Ue)}toString(){return".key"}}const Ve=new Be;class We{constructor(e,t,n,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?n(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class He{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:He.RED,this.left=null!=r?r:Ge.EMPTY_NODE,this.right=null!=o?o:Ge.EMPTY_NODE}copy(e,t,n,r,o){return new He(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ge.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ge.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}He.RED=!0,He.BLACK=!1;class Ge{constructor(e,t=Ge.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ge(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,He.BLACK,null,null))}remove(e){return new Ge(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,He.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new We(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new We(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new We(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new We(this.root_,null,this.comparator_,!0,e)}}function Ye(e,t){return F(e.name,t.name)}function Ke(e,t){return F(e,t)}let Xe;Ge.EMPTY_NODE=new class{copy(e,t,n,r,o){return this}insert(e,t,n){return new He(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Qe=function(e){return"number"==typeof e?"number:"+V(e):"string:"+e},Je=function(e){if(e.isLeafNode()){const t=e.val();Object(l.f)("string"==typeof t||"number"==typeof t||"object"==typeof t&&Object(l.m)(t,".sv"),"Priority must be a string or number.")}else Object(l.f)(e===Xe||e.isEmpty(),"priority of unexpected type.");Object(l.f)(e===Xe||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ze,et,tt;class nt{constructor(e,t=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Object(l.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Je(this.priorityNode_)}static set __childrenNodeConstructor(e){Ze=e}static get __childrenNodeConstructor(){return Ze}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nt(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(path){return Ee(path)?this:".priority"===ke(path)?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(path,e){const t=ke(path);return null===t?e:e.isEmpty()&&".priority"!==t?this:(Object(l.f)(".priority"!==t||1===Ce(path),".priority must be the last token in a path"),this.updateImmediateChild(t,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(path),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qe(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?V(this.value_):this.value_,this.lazyHash_=C(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nt.__childrenNodeConstructor?-1:(Object(l.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=nt.VALUE_TYPE_ORDER.indexOf(t),o=nt.VALUE_TYPE_ORDER.indexOf(n);return Object(l.f)(r>=0,"Unknown leaf type: "+t),Object(l.f)(o>=0,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];const it=new class extends ze{compare(a,b){const e=a.node.getPriority(),t=b.node.getPriority(),n=e.compareTo(t);return 0===n?F(a.name,b.name):n}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return $e.MIN}maxPost(){return new $e(D,new nt("[PRIORITY-POST]",tt))}makePost(e,t){const n=et(e);return new $e(t,new nt("[PRIORITY-POST]",n))}toString(){return".priority"}},st=Math.log(2);class ot{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/st,10)),this.current_=this.count-1;const mask=(n=this.count,parseInt(Array(n+1).join("1"),2));var n;this.bits_=e+1&mask}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const at=function(e,t,n,r){e.sort(t);const o=function(t,r){const l=r-t;let c,h;if(0===l)return null;if(1===l)return c=e[t],h=n?n(c):c,new He(h,c.node,He.BLACK,null,null);{const d=parseInt(l/2,10)+t,f=o(t,d),_=o(d+1,r);return c=e[d],h=n?n(c):c,new He(h,c.node,He.BLACK,f,_)}},l=function(t){let r=null,l=null,c=e.length;const h=function(t,r){const l=c-t,h=c;c-=t;const f=o(l+1,h),_=e[l],v=n?n(_):_;d(new He(v,_.node,r,null,f))},d=function(e){r?(r.left=e,r=e):(l=e,r=e)};for(let i=0;i<t.count;++i){const e=t.nextBitIsOne(),n=Math.pow(2,t.count-(i+1));e?h(n,He.BLACK):(h(n,He.BLACK),h(n,He.RED))}return l}(new ot(e.length));return new Ge(r||t,l)};let lt;const ct={};class ht{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Object(l.f)(ct&&it,"ChildrenNode.ts has not been loaded"),lt=lt||new ht({".priority":ct},{".priority":it}),lt}get(e){const t=Object(l.I)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ge?t:null}hasIndex(e){return Object(l.m)(this.indexSet_,e.toString())}addIndex(e,t){Object(l.f)(e!==Ve,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=t.getIterator($e.Wrap);let c,h=o.getNext();for(;h;)r=r||e.isDefinedOn(h.node),n.push(h),h=o.getNext();c=r?at(n,e.getCompare()):ct;const d=e.toString(),f=Object.assign({},this.indexSet_);f[d]=e;const _=Object.assign({},this.indexes_);return _[d]=c,new ht(_,f)}addToIndexes(e,t){const n=Object(l.F)(this.indexes_,((n,r)=>{const o=Object(l.I)(this.indexSet_,r);if(Object(l.f)(o,"Missing index implementation for "+r),n===ct){if(o.isDefinedOn(e.node)){const n=[],r=t.getIterator($e.Wrap);let l=r.getNext();for(;l;)l.name!==e.name&&n.push(l),l=r.getNext();return n.push(e),at(n,o.getCompare())}return ct}{const r=t.get(e.name);let o=n;return r&&(o=o.remove(new $e(e.name,r))),o.insert(e,e.node)}}));return new ht(n,this.indexSet_)}removeFromIndexes(e,t){const n=Object(l.F)(this.indexes_,(n=>{if(n===ct)return n;{const r=t.get(e.name);return r?n.remove(new $e(e.name,r)):n}}));return new ht(n,this.indexSet_)}}let ut;class pt{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Je(this.priorityNode_),this.children_.isEmpty()&&Object(l.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ut||(ut=new pt(new Ge(Ke),null,ht.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ut}updatePriority(e){return this.children_.isEmpty()?this:new pt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?ut:t}}getChild(path){const e=ke(path);return null===e?this:this.getImmediateChild(e).getChild(Oe(path))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Object(l.f)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new $e(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(n,this.children_));const l=r.isEmpty()?ut:this.priorityNode_;return new pt(r,l,o)}}updateChild(path,e){const t=ke(path);if(null===t)return e;{Object(l.f)(".priority"!==ke(path)||1===Ce(path),".priority must be the last token in a path");const n=this.getImmediateChild(t).updateChild(Oe(path),e);return this.updateImmediateChild(t,n)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,o=!0;if(this.forEachChild(it,((l,c)=>{t[l]=c.val(e),n++,o&&pt.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):o=!1})),!e&&o&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Qe(this.getPriority().val())+":"),this.forEachChild(it,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":C(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new $e(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new $e(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new $e(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,$e.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,$e.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ft?-1:0}withIndex(e){if(e===Ve||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new pt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ve||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(it),n=t.getIterator(it);let r=e.getNext(),o=n.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=e.getNext(),o=n.getNext()}return null===r&&null===o}return!1}return!1}}resolveIndex_(e){return e===Ve?null:this.indexMap_.get(e.toString())}}pt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const ft=new class extends pt{constructor(){super(new Ge(Ke),pt.EMPTY_NODE,ht.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties($e,{MIN:{value:new $e(M,pt.EMPTY_NODE)},MAX:{value:new $e(D,ft)}}),Be.__EMPTY_NODE=pt.EMPTY_NODE,nt.__childrenNodeConstructor=pt,Xe=ft,function(e){tt=e}(ft);function _t(e,t=null){if(null===e)return pt.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Object(l.f)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new nt(e,_t(t))}if(e instanceof Array){let n=pt.EMPTY_NODE;return B(e,((t,r)=>{if(Object(l.m)(e,t)&&"."!==t.substring(0,1)){const e=_t(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(_t(t))}{const n=[];let r=!1;if(B(e,((e,t)=>{if("."!==e.substring(0,1)){const o=_t(t);o.isEmpty()||(r=r||!o.getPriority().isEmpty(),n.push(new $e(e,o)))}})),0===n.length)return pt.EMPTY_NODE;const o=at(n,Ye,(e=>e.name),Ke);if(r){const e=at(n,it.getCompare());return new pt(o,_t(t),new ht({".priority":e},{".priority":it}))}return new pt(o,_t(t),ht.Default)}}!function(e){et=e}(_t);class vt extends ze{constructor(e){super(),this.indexPath_=e,Object(l.f)(!Ee(e)&&".priority"!==ke(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(a,b){const e=this.extractChild(a.node),t=this.extractChild(b.node),n=e.compareTo(t);return 0===n?F(a.name,b.name):n}makePost(e,t){const n=_t(e),r=pt.EMPTY_NODE.updateChild(this.indexPath_,n);return new $e(t,r)}maxPost(){const e=pt.EMPTY_NODE.updateChild(this.indexPath_,ft);return new $e(D,e)}toString(){return Ie(this.indexPath_,0).join("/")}}const gt=new class extends ze{compare(a,b){const e=a.node.compareTo(b.node);return 0===e?F(a.name,b.name):e}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return $e.MIN}maxPost(){return $e.MAX}makePost(e,t){const n=_t(e);return new $e(t,n)}toString(){return".value"}},mt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();function bt(e){return{type:"value",snapshotNode:e}}function yt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function wt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function xt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class kt{constructor(e){this.index_=e}updateChild(e,t,n,r,source,o){Object(l.f)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(r).equals(n.getChild(r))&&c.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(wt(t,c)):Object(l.f)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(yt(t,n)):o.trackChildChange(xt(t,n,c))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(it,((e,r)=>{t.hasChild(e)||n.trackChildChange(wt(e,r))})),t.isLeafNode()||t.forEachChild(it,((t,r)=>{if(e.hasChild(t)){const o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(xt(t,r,o))}else n.trackChildChange(yt(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?pt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ct{constructor(e){this.indexedFilter_=new kt(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ct.getStartPost_(e),this.endPost_=Ct.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,source,o){return this.matches(new $e(t,n))||(n=pt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,source,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=pt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(pt.EMPTY_NODE);const o=this;return t.forEachChild(it,((e,t)=>{o.matches(new $e(e,t))||(r=r.updateImmediateChild(e,pt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Ot{constructor(e){this.rangedFilter_=new Ct(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,source,o){return this.rangedFilter_.matches(new $e(t,n))||(n=pt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,source,o):this.fullLimitUpdateChild_(e,t,n,source,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=pt.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let o;if(o=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!o)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,o,l;if(r=t.withIndex(this.index_),r=r.updatePriority(pt.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();o=(a,b)=>t(b,a)}else l=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),o=this.index_.getCompare();let c=0,h=!1;for(;l.hasNext();){const t=l.getNext();!h&&o(e,t)<=0&&(h=!0);h&&c<this.limit_&&o(t,n)<=0?c++:r=r.updateImmediateChild(t.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,source,r){let o;if(this.reverse_){const e=this.index_.getCompare();o=(a,b)=>e(b,a)}else o=this.index_.getCompare();const c=e;Object(l.f)(c.numChildren()===this.limit_,"");const h=new $e(t,n),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),f=this.rangedFilter_.matches(h);if(c.hasChild(t)){const e=c.getImmediateChild(t);let l=source.getChildAfterChild(this.index_,d,this.reverse_);for(;null!=l&&(l.name===t||c.hasChild(l.name));)l=source.getChildAfterChild(this.index_,l,this.reverse_);const _=null==l?1:o(l,h);if(f&&!n.isEmpty()&&_>=0)return null!=r&&r.trackChildChange(xt(t,n,e)),c.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(wt(t,e));const n=c.updateImmediateChild(t,pt.EMPTY_NODE);return null!=l&&this.rangedFilter_.matches(l)?(null!=r&&r.trackChildChange(yt(l.name,l.node)),n.updateImmediateChild(l.name,l.node)):n}}return n.isEmpty()?e:f&&o(d,h)>=0?(null!=r&&(r.trackChildChange(wt(d.name,d.node)),r.trackChildChange(yt(t,n))),c.updateImmediateChild(t,n).updateImmediateChild(d.name,pt.EMPTY_NODE)):e}}class Tt{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=it}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Object(l.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Object(l.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:M}hasEnd(){return this.endSet_}getIndexEndValue(){return Object(l.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Object(l.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:D}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Object(l.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===it}copy(){const e=new Tt;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function It(e){const t={};if(e.isDefault())return t;let n;return e.index_===it?n="$priority":e.index_===gt?n="$value":e.index_===Ve?n="$key":(Object(l.f)(e.index_ instanceof vt,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Object(l.L)(n),e.startSet_&&(t.startAt=Object(l.L)(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Object(l.L)(e.indexStartName_))),e.endSet_&&(t.endAt=Object(l.L)(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Object(l.L)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function St(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==it&&(t.i=e.index_.toString()),t}class Pt extends me{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=E("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Object(l.f)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=Pt.getListenId_(e,n),h={};this.listens_[c]=h;const d=It(e._queryParams);this.restRequest_(o+".json",d,((e,t)=>{let data=t;if(404===e&&(data=null,e=null),null===e&&this.onDataUpdate_(o,data,!1,n),Object(l.I)(this.listens_,c)===h){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Pt.getListenId_(e,t);delete this.listens_[n]}get(e){const t=It(e._queryParams),n=e._path.toString(),r=new l.a;return this.restRequest_(n+".json",t,((e,t)=>{let data=t;404===e&&(data=null,e=null),null===e?(this.onDataUpdate_(n,data,!1,null),r.resolve(data)):r.reject(new Error(data))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Object(l.G)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(n&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let e=null;if(h.status>=200&&h.status<300){try{e=Object(l.E)(h.responseText)}catch(e){R("Failed to parse JSON response for "+c+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&R("Got unsuccessful REST response for "+c+" Status: "+h.status),n(h.status);n=null}},h.open("GET",c,!0),h.send()}))}}class Et{constructor(){this.rootNode_=pt.EMPTY_NODE}getNode(path){return this.rootNode_.getChild(path)}updateSnapshot(path,e){this.rootNode_=this.rootNode_.updateChild(path,e)}}function jt(){return{value:null,children:new Map}}function Nt(e,path,data){if(Ee(path))e.value=data,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(path,data);else{const t=ke(path);e.children.has(t)||e.children.set(t,jt());Nt(e.children.get(t),path=Oe(path),data)}}function Rt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Rt(r,new we(t.toString()+"/"+e),n)}))}class At{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&B(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Mt{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new At(e);const n=1e4+2e4*Math.random();X(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;B(e,((e,r)=>{r>0&&Object(l.m)(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),X(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Dt;function Ft(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Dt||(Dt={}));class Lt{constructor(path,e,t){this.path=path,this.affectedTree=e,this.revert=t,this.type=Dt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ee(this.path)){if(null!=this.affectedTree.value)return Object(l.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new we(e));return new Lt(xe(),t,this.revert)}}return Object(l.f)(ke(this.path)===e,"operationForChild called for unrelated child."),new Lt(Oe(this.path),this.affectedTree,this.revert)}}class qt{constructor(source,path){this.source=source,this.path=path,this.type=Dt.LISTEN_COMPLETE}operationForChild(e){return Ee(this.path)?new qt(this.source,xe()):new qt(this.source,Oe(this.path))}}class $t{constructor(source,path,e){this.source=source,this.path=path,this.snap=e,this.type=Dt.OVERWRITE}operationForChild(e){return Ee(this.path)?new $t(this.source,xe(),this.snap.getImmediateChild(e)):new $t(this.source,Oe(this.path),this.snap)}}class zt{constructor(source,path,e){this.source=source,this.path=path,this.children=e,this.type=Dt.MERGE}operationForChild(e){if(Ee(this.path)){const t=this.children.subtree(new we(e));return t.isEmpty()?null:t.value?new $t(this.source,xe(),t.value):new zt(this.source,xe(),t)}return Object(l.f)(ke(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zt(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ut{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(path){if(Ee(path))return this.isFullyInitialized()&&!this.filtered_;const e=ke(path);return this.isCompleteForChild(e)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Bt{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Vt(e,t,n,r,o,c){const h=r.filter((e=>e.type===n));h.sort(((a,b)=>function(e,a,b){if(null==a.childName||null==b.childName)throw Object(l.g)("Should only compare child_ events.");const t=new $e(a.childName,a.snapshotNode),n=new $e(b.childName,b.snapshotNode);return e.index_.compare(t,n)}(e,a,b))),h.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,c);o.forEach((o=>{o.respondsTo(n.type)&&t.push(o.createEvent(r,e.query_))}))}))}function Wt(e,t){return{eventCache:e,serverCache:t}}function Ht(e,t,n,r){return Wt(new Ut(t,n,r),e.serverCache)}function Gt(e,t,n,r){return Wt(e.eventCache,new Ut(t,n,r))}function Yt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Kt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Xt;class Qt{constructor(e,t=(()=>(Xt||(Xt=new Ge(L)),Xt))()){this.value=e,this.children=t}static fromObject(e){let t=new Qt(null);return B(e,((e,n)=>{t=t.set(new we(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:xe(),value:this.value};if(Ee(e))return null;{const n=ke(e),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Oe(e),t);if(null!=o){return{path:Pe(new we(n),o.path),value:o.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Ee(e))return this;{const t=ke(e),n=this.children.get(t);return null!==n?n.subtree(Oe(e)):new Qt(null)}}set(e,t){if(Ee(e))return new Qt(t,this.children);{const n=ke(e),r=(this.children.get(n)||new Qt(null)).set(Oe(e),t),o=this.children.insert(n,r);return new Qt(this.value,o)}}remove(e){if(Ee(e))return this.children.isEmpty()?new Qt(null):new Qt(null,this.children);{const t=ke(e),n=this.children.get(t);if(n){const r=n.remove(Oe(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new Qt(null):new Qt(this.value,o)}return this}}get(e){if(Ee(e))return this.value;{const t=ke(e),n=this.children.get(t);return n?n.get(Oe(e)):null}}setTree(e,t){if(Ee(e))return t;{const n=ke(e),r=(this.children.get(n)||new Qt(null)).setTree(Oe(e),t);let o;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Qt(this.value,o)}}fold(e){return this.fold_(xe(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,o)=>{n[r]=o.fold_(Pe(e,r),t)})),t(e,this.value,n)}findOnPath(path,e){return this.findOnPath_(path,xe(),e)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Ee(e))return null;{const r=ke(e),o=this.children.get(r);return o?o.findOnPath_(Oe(e),Pe(t,r),n):null}}foreachOnPath(path,e){return this.foreachOnPath_(path,xe(),e)}foreachOnPath_(e,t,n){if(Ee(e))return this;{this.value&&n(t,this.value);const r=ke(e),o=this.children.get(r);return o?o.foreachOnPath_(Oe(e),Pe(t,r),n):new Qt(null)}}foreach(e){this.foreach_(xe(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Pe(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Jt{constructor(e){this.writeTree_=e}static empty(){return new Jt(new Qt(null))}}function Zt(e,path,t){if(Ee(path))return new Jt(new Qt(t));{const n=e.writeTree_.findRootMostValueAndPath(path);if(null!=n){const r=n.path;let o=n.value;const l=je(r,path);return o=o.updateChild(l,t),new Jt(e.writeTree_.set(r,o))}{const n=new Qt(t),r=e.writeTree_.setTree(path,n);return new Jt(r)}}}function en(e,path,t){let n=e;return B(t,((e,t)=>{n=Zt(n,Pe(path,e),t)})),n}function tn(e,path){if(Ee(path))return Jt.empty();{const t=e.writeTree_.setTree(path,new Qt(null));return new Jt(t)}}function nn(e,path){return null!=rn(e,path)}function rn(e,path){const t=e.writeTree_.findRootMostValueAndPath(path);return null!=t?e.writeTree_.get(t.path).getChild(je(t.path,path)):null}function sn(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(it,((e,n)=>{t.push(new $e(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new $e(e,n.value))})),t}function on(e,path){if(Ee(path))return e;{const t=rn(e,path);return new Jt(null!=t?new Qt(t):e.writeTree_.subtree(path))}}function an(e){return e.writeTree_.isEmpty()}function ln(e,t){return cn(xe(),e.writeTree_,t)}function cn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,o)=>{".priority"===t?(Object(l.f)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=cn(Pe(e,t),o,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Pe(e,".priority"),r)),n}}function hn(e,path){return kn(path,e)}function un(e,t){const n=e.allWrites.findIndex((s=>s.writeId===t));Object(l.f)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,c=!1,i=e.allWrites.length-1;for(;o&&i>=0;){const t=e.allWrites[i];t.visible&&(i>=n&&dn(t,r.path)?o=!1:Re(r.path,t.path)&&(c=!0)),i--}if(o){if(c)return function(e){e.visibleWrites=fn(e.allWrites,pn,xe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=tn(e.visibleWrites,r.path);else{B(r.children,(t=>{e.visibleWrites=tn(e.visibleWrites,Pe(r.path,t))}))}return!0}return!1}function dn(e,path){if(e.snap)return Re(e.path,path);for(const t in e.children)if(e.children.hasOwnProperty(t)&&Re(Pe(e.path,t),path))return!0;return!1}function pn(e){return e.visible}function fn(e,filter,t){let n=Jt.empty();for(let i=0;i<e.length;++i){const r=e[i];if(filter(r)){const e=r.path;let o;if(r.snap)Re(t,e)?(o=je(t,e),n=Zt(n,o,r.snap)):Re(e,t)&&(o=je(e,t),n=Zt(n,xe(),r.snap.getChild(o)));else{if(!r.children)throw Object(l.g)("WriteRecord should have .snap or .children");if(Re(t,e))o=je(t,e),n=en(n,o,r.children);else if(Re(e,t))if(o=je(e,t),Ee(o))n=en(n,xe(),r.children);else{const e=Object(l.I)(r.children,ke(o));if(e){const t=e.getChild(Oe(o));n=Zt(n,xe(),t)}}}}}return n}function _n(e,t,n,r,o){if(r||o){const l=on(e.visibleWrites,t);if(!o&&an(l))return n;if(o||null!=n||nn(l,xe())){const filter=function(e){return(e.visible||o)&&(!r||!~r.indexOf(e.writeId))&&(Re(e.path,t)||Re(t,e.path))};return ln(fn(e.allWrites,filter,t),n||pt.EMPTY_NODE)}return null}{const r=rn(e.visibleWrites,t);if(null!=r)return r;{const r=on(e.visibleWrites,t);if(an(r))return n;if(null!=n||nn(r,xe())){return ln(r,n||pt.EMPTY_NODE)}return null}}}function vn(e,t,n,r){return _n(e.writeTree,e.treePath,t,n,r)}function gn(e,t){return function(e,t,n){let r=pt.EMPTY_NODE;const o=rn(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(it,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const o=on(e.visibleWrites,t);return n.forEachChild(it,((e,t)=>{const n=ln(on(o,new we(e)),t);r=r.updateImmediateChild(e,n)})),sn(o).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return sn(on(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function mn(e,path,t,n){return function(e,t,n,r,o){Object(l.f)(r||o,"Either existingEventSnap or existingServerSnap must exist");const path=Pe(t,n);if(nn(e.visibleWrites,path))return null;{const t=on(e.visibleWrites,path);return an(t)?o.getChild(n):ln(t,o.getChild(n))}}(e.writeTree,e.treePath,path,t,n)}function bn(e,path){return function(e,path){return rn(e.visibleWrites,path)}(e.writeTree,Pe(e.treePath,path))}function yn(e,t,n,r,o,l){return function(e,t,n,r,o,l,c){let h;const d=on(e.visibleWrites,t),f=rn(d,xe());if(null!=f)h=f;else{if(null==n)return[];h=ln(d,n)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const e=[],t=c.getCompare(),n=l?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let d=n.getNext();for(;d&&e.length<o;)0!==t(d,r)&&e.push(d),d=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,o,l)}function wn(e,t,n){return function(e,t,n,r){const path=Pe(t,n),o=rn(e.visibleWrites,path);if(null!=o)return o;if(r.isCompleteForChild(n))return ln(on(e.visibleWrites,path),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function xn(e,t){return kn(Pe(e.treePath,t),e.writeTree)}function kn(path,e){return{treePath:path,writeTree:e}}class Cn{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Object(l.f)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(l.f)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,xt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,wt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,yt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Object(l.g)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,xt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const On=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Tn{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Ut(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wn(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Kt(this.viewCache_),o=yn(this.writes_,r,t,1,n,e);return 0===o.length?null:o[0]}}function In(e,t,n,r,o){const c=new Cn;let h,d;if(n.type===Dt.OVERWRITE){const f=n;f.source.fromUser?h=En(e,t,f.path,f.snap,r,o,c):(Object(l.f)(f.source.fromServer,"Unknown source."),d=f.source.tagged||t.serverCache.isFiltered()&&!Ee(f.path),h=Pn(e,t,f.path,f.snap,r,o,d,c))}else if(n.type===Dt.MERGE){const f=n;f.source.fromUser?h=function(e,t,path,n,r,o,l){let c=t;return n.foreach(((n,h)=>{const d=Pe(path,n);jn(t,ke(d))&&(c=En(e,c,d,h,r,o,l))})),n.foreach(((n,h)=>{const d=Pe(path,n);jn(t,ke(d))||(c=En(e,c,d,h,r,o,l))})),c}(e,t,f.path,f.children,r,o,c):(Object(l.f)(f.source.fromServer,"Unknown source."),d=f.source.tagged||t.serverCache.isFiltered(),h=Rn(e,t,f.path,f.children,r,o,d,c))}else if(n.type===Dt.ACK_USER_WRITE){const d=n;h=d.revert?function(e,t,path,n,r,o){let c;if(null!=bn(n,path))return t;{const source=new Tn(n,t,r),h=t.eventCache.getNode();let d;if(Ee(path)||".priority"===ke(path)){let r;if(t.serverCache.isFullyInitialized())r=vn(n,Kt(t));else{const e=t.serverCache.getNode();Object(l.f)(e instanceof pt,"serverChildren would be complete if leaf node"),r=gn(n,e)}d=e.filter.updateFullNode(h,r,o)}else{const r=ke(path);let l=wn(n,r,t.serverCache);null==l&&t.serverCache.isCompleteForChild(r)&&(l=h.getImmediateChild(r)),d=null!=l?e.filter.updateChild(h,r,l,Oe(path),source,o):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(h,r,pt.EMPTY_NODE,Oe(path),source,o):h,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=vn(n,Kt(t)),c.isLeafNode()&&(d=e.filter.updateFullNode(d,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=bn(n,xe()),Ht(t,d,c,e.filter.filtersNodes())}}(e,t,d.path,r,o,c):function(e,t,n,r,o,l,c){if(null!=bn(o,n))return t;const h=t.serverCache.isFiltered(),d=t.serverCache;if(null!=r.value){if(Ee(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Pn(e,t,n,d.getNode().getChild(n),o,l,h,c);if(Ee(n)){let r=new Qt(null);return d.getNode().forEachChild(Ve,((e,t)=>{r=r.set(new we(e),t)})),Rn(e,t,n,r,o,l,h,c)}return t}{let f=new Qt(null);return r.foreach(((e,t)=>{const r=Pe(n,e);d.isCompleteForPath(r)&&(f=f.set(e,d.getNode().getChild(r)))})),Rn(e,t,n,f,o,l,h,c)}}(e,t,d.path,d.affectedTree,r,o,c)}else{if(n.type!==Dt.LISTEN_COMPLETE)throw Object(l.g)("Unknown operation type: "+n.type);h=function(e,t,path,n,r){const o=t.serverCache,l=Gt(t,o.getNode(),o.isFullyInitialized()||Ee(path),o.isFiltered());return Sn(e,l,path,n,On,r)}(e,t,n.path,r,c)}const f=c.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=Yt(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&n.push(bt(Yt(t)))}}(t,h,f),{viewCache:h,changes:f}}function Sn(e,t,n,r,source,o){const c=t.eventCache;if(null!=bn(r,n))return t;{let h,d;if(Ee(n))if(Object(l.f)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Kt(t),l=gn(r,n instanceof pt?n:pt.EMPTY_NODE);h=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{const n=vn(r,Kt(t));h=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const f=ke(n);if(".priority"===f){Object(l.f)(1===Ce(n),"Can't have a priority with additional path components");const o=c.getNode();d=t.serverCache.getNode();const f=mn(r,n,o,d);h=null!=f?e.filter.updatePriority(o,f):c.getNode()}else{const l=Oe(n);let _;if(c.isCompleteForChild(f)){d=t.serverCache.getNode();const e=mn(r,n,c.getNode(),d);_=null!=e?c.getNode().getImmediateChild(f).updateChild(l,e):c.getNode().getImmediateChild(f)}else _=wn(r,f,t.serverCache);h=null!=_?e.filter.updateChild(c.getNode(),f,_,l,source,o):c.getNode()}}return Ht(t,h,c.isFullyInitialized()||Ee(n),e.filter.filtersNodes())}}function Pn(e,t,n,r,o,l,c,h){const d=t.serverCache;let f;const _=c?e.filter:e.filter.getIndexedFilter();if(Ee(n))f=_.updateFullNode(d.getNode(),r,null);else if(_.filtersNodes()&&!d.isFiltered()){const e=d.getNode().updateChild(n,r);f=_.updateFullNode(d.getNode(),e,null)}else{const e=ke(n);if(!d.isCompleteForPath(n)&&Ce(n)>1)return t;const o=Oe(n),l=d.getNode().getImmediateChild(e).updateChild(o,r);f=".priority"===e?_.updatePriority(d.getNode(),l):_.updateChild(d.getNode(),e,l,o,On,null)}const v=Gt(t,f,d.isFullyInitialized()||Ee(n),_.filtersNodes());return Sn(e,v,n,o,new Tn(o,v,l),h)}function En(e,t,n,r,o,l,c){const h=t.eventCache;let d,f;const source=new Tn(o,t,l);if(Ee(n))f=e.filter.updateFullNode(t.eventCache.getNode(),r,c),d=Ht(t,f,!0,e.filter.filtersNodes());else{const o=ke(n);if(".priority"===o)f=e.filter.updatePriority(t.eventCache.getNode(),r),d=Ht(t,f,h.isFullyInitialized(),h.isFiltered());else{const l=Oe(n),f=h.getNode().getImmediateChild(o);let _;if(Ee(l))_=r;else{const e=source.getCompleteChild(o);_=null!=e?".priority"===Te(l)&&e.getChild(Se(l)).isEmpty()?e:e.updateChild(l,r):pt.EMPTY_NODE}if(f.equals(_))d=t;else{d=Ht(t,e.filter.updateChild(h.getNode(),o,_,l,source,c),h.isFullyInitialized(),e.filter.filtersNodes())}}}return d}function jn(e,t){return e.eventCache.isCompleteForChild(t)}function Nn(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Rn(e,t,path,n,r,o,l,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let h,d=t;h=Ee(path)?n:new Qt(null).setTree(path,n);const f=t.serverCache.getNode();return h.children.inorderTraversal(((n,h)=>{if(f.hasChild(n)){const f=Nn(0,t.serverCache.getNode().getImmediateChild(n),h);d=Pn(e,d,new we(n),f,r,o,l,c)}})),h.children.inorderTraversal(((n,h)=>{const _=!t.serverCache.isCompleteForChild(n)&&void 0===h.value;if(!f.hasChild(n)&&!_){const f=Nn(0,t.serverCache.getNode().getImmediateChild(n),h);d=Pn(e,d,new we(n),f,r,o,l,c)}})),d}class An{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new kt(n.getIndex()),filter=(o=n).loadsAllData()?new kt(o.getIndex()):o.hasLimit()?new Ot(o):new Ct(o);var o;this.processor_=function(filter){return{filter:filter}}(filter);const l=t.serverCache,c=t.eventCache,h=r.updateFullNode(pt.EMPTY_NODE,l.getNode(),null),d=filter.updateFullNode(pt.EMPTY_NODE,c.getNode(),null),f=new Ut(h,l.isFullyInitialized(),r.filtersNodes()),_=new Ut(d,c.isFullyInitialized(),filter.filtersNodes());this.viewCache_=Wt(_,f),this.eventGenerator_=new Bt(this.query_)}get query(){return this.query_}}function Mn(view,path){const e=Kt(view.viewCache_);return e&&(view.query._queryParams.loadsAllData()||!Ee(path)&&!e.getImmediateChild(ke(path)).isEmpty())?e.getChild(path):null}function Dn(view){return 0===view.eventRegistrations_.length}function Fn(view,e,t){const n=[];if(t){Object(l.f)(null==e,"A cancel should cancel all event registrations.");const path=view.query._path;view.eventRegistrations_.forEach((e=>{const r=e.createCancelEvent(t,path);r&&n.push(r)}))}if(e){let t=[];for(let i=0;i<view.eventRegistrations_.length;++i){const n=view.eventRegistrations_[i];if(n.matches(e)){if(e.hasAnyCallback()){t=t.concat(view.eventRegistrations_.slice(i+1));break}}else t.push(n)}view.eventRegistrations_=t}else view.eventRegistrations_=[];return n}function Ln(view,e,t,n){e.type===Dt.MERGE&&null!==e.source.queryId&&(Object(l.f)(Kt(view.viewCache_),"We should always have a full cache before handling merges"),Object(l.f)(Yt(view.viewCache_),"Missing event cache, even though we have a server cache"));const r=view.viewCache_,o=In(view.processor_,r,e,t,n);var c,h;return c=view.processor_,h=o.viewCache,Object(l.f)(h.eventCache.getNode().isIndexed(c.filter.getIndex()),"Event snap not indexed"),Object(l.f)(h.serverCache.getNode().isIndexed(c.filter.getIndex()),"Server snap not indexed"),Object(l.f)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),view.viewCache_=o.viewCache,qn(view,o.changes,o.viewCache.eventCache.getNode(),null)}function qn(view,e,t,n){const r=n?[n]:view.eventRegistrations_;return function(e,t,n,r){const o=[],l=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&l.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Vt(e,o,"child_removed",t,r,n),Vt(e,o,"child_added",t,r,n),Vt(e,o,"child_moved",l,r,n),Vt(e,o,"child_changed",t,r,n),Vt(e,o,"value",t,r,n),o}(view.eventGenerator_,e,t,r)}let $n,zn;class Un{constructor(){this.views=new Map}}function Bn(e,t,n,r){const o=t.source.queryId;if(null!==o){const view=e.views.get(o);return Object(l.f)(null!=view,"SyncTree gave us an op for an invalid query."),Ln(view,t,n,r)}{let o=[];for(const view of e.views.values())o=o.concat(Ln(view,t,n,r));return o}}function Vn(e,t,n,r,o){const l=t._queryIdentifier,view=e.views.get(l);if(!view){let e=vn(n,o?r:null),l=!1;e?l=!0:r instanceof pt?(e=gn(n,r),l=!1):(e=pt.EMPTY_NODE,l=!1);const c=Wt(new Ut(e,l,!1),new Ut(r,o,!1));return new An(t,c)}return view}function Wn(e,t,n,r){const o=t._queryIdentifier,c=[];let h=[];const d=Xn(e);if("default"===o)for(const[t,view]of e.views.entries())h=h.concat(Fn(view,n,r)),Dn(view)&&(e.views.delete(t),view.query._queryParams.loadsAllData()||c.push(view.query));else{const view=e.views.get(o);view&&(h=h.concat(Fn(view,n,r)),Dn(view)&&(e.views.delete(o),view.query._queryParams.loadsAllData()||c.push(view.query)))}return d&&!Xn(e)&&c.push(new(Object(l.f)($n,"Reference.ts has not been loaded"),$n)(t._repo,t._path)),{removed:c,events:h}}function Hn(e){const t=[];for(const view of e.views.values())view.query._queryParams.loadsAllData()||t.push(view);return t}function Gn(e,path){let t=null;for(const view of e.views.values())t=t||Mn(view,path);return t}function Yn(e,t){if(t._queryParams.loadsAllData())return Qn(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Kn(e,t){return null!=Yn(e,t)}function Xn(e){return null!=Qn(e)}function Qn(e){for(const view of e.views.values())if(view.query._queryParams.loadsAllData())return view;return null}let Jn=1;class Zn{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qt(null),this.pendingWriteTree_={visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ei(e,path,t,n,r){return function(e,path,t,n,r){Object(l.f)(n>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:path,snap:t,writeId:n,visible:r}),r&&(e.visibleWrites=Zt(e.visibleWrites,path,t)),e.lastWriteId=n}(e.pendingWriteTree_,path,t,n,r),r?ci(e,new $t({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},path,t)):[]}function ti(e,t,n=!1){const r=function(e,t){for(let i=0;i<e.allWrites.length;i++){const n=e.allWrites[i];if(n.writeId===t)return n}return null}(e.pendingWriteTree_,t);if(un(e.pendingWriteTree_,t)){let t=new Qt(null);return null!=r.snap?t=t.set(xe(),!0):B(r.children,(e=>{t=t.set(new we(e),!0)})),ci(e,new Lt(r.path,t,n))}return[]}function ni(e,path,t){return ci(e,new $t({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},path,t))}function ii(e,t,n,r){const path=t._path,o=e.syncPointTree_.get(path);let l=[];if(o&&("default"===t._queryIdentifier||Kn(o,t))){const c=Wn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(path));const h=c.removed;l=c.events;const d=-1!==h.findIndex((e=>e._queryParams.loadsAllData())),f=e.syncPointTree_.findOnPath(path,((e,t)=>Xn(t)));if(d&&!f){const t=e.syncPointTree_.subtree(path);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Xn(t)){return[Qn(t)]}{let e=[];return t&&(e=Hn(t)),B(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let i=0;i<n.length;++i){const view=n[i],t=view.query,r=di(e,view);e.listenProvider_.startListening(mi(t),pi(e,t),r.hashFn,r.onComplete)}}}if(!f&&h.length>0&&!r)if(d){const n=null;e.listenProvider_.stopListening(mi(t),n)}else h.forEach((t=>{const n=e.queryToTagMap.get(fi(t));e.listenProvider_.stopListening(mi(t),n)}));!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=fi(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,h)}return l}function ri(e,path,t,n){const r=_i(e,n);if(null!=r){const n=vi(r),o=n.path,l=n.queryId,c=je(o,path);return gi(e,o,new $t(Ft(l),c,t))}return[]}function si(e,t){const path=e._path;let n=null,r=!1;t.syncPointTree_.foreachOnPath(path,((e,t)=>{const o=je(e,path);n=n||Gn(t,o),r=r||Xn(t)}));let o,c=t.syncPointTree_.get(path);if(c?(r=r||Xn(c),n=n||Gn(c,xe())):(c=new Un,t.syncPointTree_=t.syncPointTree_.set(path,c)),null!=n)o=!0;else{o=!1,n=pt.EMPTY_NODE;t.syncPointTree_.subtree(path).foreachChild(((e,t)=>{const r=Gn(t,xe());r&&(n=n.updateImmediateChild(e,r))}))}const h=Kn(c,e);if(!h&&!e._queryParams.loadsAllData()){const n=fi(e);Object(l.f)(!t.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Jn++;t.queryToTagMap.set(n,r),t.tagToQueryMap.set(r,n)}return{syncPoint:c,writesCache:hn(t.pendingWriteTree_,path),serverCache:n,serverCacheComplete:o,foundAncestorDefaultView:r,viewAlreadyExists:h}}function oi(e,path,t){const n=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(path,((e,t)=>{const n=Gn(t,je(e,path));if(n)return n}));return _n(n,path,r,t,!0)}function ai(e,t){const path=t._path;let n=null;e.syncPointTree_.foreachOnPath(path,((e,t)=>{const r=je(e,path);n=n||Gn(t,r)}));let r=e.syncPointTree_.get(path);r?n=n||Gn(r,xe()):(r=new Un,e.syncPointTree_=e.syncPointTree_.set(path,r));const o=null!=n,l=o?new Ut(n,!0,!1):null;return function(view){return Yt(view.viewCache_)}(Vn(r,t,hn(e.pendingWriteTree_,t._path),o?l.getNode():pt.EMPTY_NODE,o))}function ci(e,t){return hi(t,e.syncPointTree_,null,hn(e.pendingWriteTree_,xe()))}function hi(e,t,n,r){if(Ee(e.path))return ui(e,t,n,r);{const o=t.get(xe());null==n&&null!=o&&(n=Gn(o,xe()));let l=[];const c=ke(e.path),h=e.operationForChild(c),d=t.children.get(c);if(d&&h){const e=n?n.getImmediateChild(c):null,t=xn(r,c);l=l.concat(hi(h,d,e,t))}return o&&(l=l.concat(Bn(o,e,r,n))),l}}function ui(e,t,n,r){const o=t.get(xe());null==n&&null!=o&&(n=Gn(o,xe()));let l=[];return t.children.inorderTraversal(((t,o)=>{const c=n?n.getImmediateChild(t):null,h=xn(r,t),d=e.operationForChild(t);d&&(l=l.concat(ui(d,o,c,h)))})),o&&(l=l.concat(Bn(o,e,r,n))),l}function di(e,view){const t=view.query,n=pi(e,t);return{hashFn:()=>{const e=function(view){return view.viewCache_.serverCache.getNode()}(view)||pt.EMPTY_NODE;return e.hash()},onComplete:r=>{if("ok"===r)return n?function(e,path,t){const n=_i(e,t);if(n){const t=vi(n),r=t.path,o=t.queryId,l=je(r,path);return gi(e,r,new qt(Ft(o),l))}return[]}(e,t._path,n):function(e,path){return ci(e,new qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},path))}(e,t._path);{const n=function(code,e){let t="Unknown Error";"too_big"===code?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===code?t="Client doesn't have permission to access the desired data.":"unavailable"===code&&(t="The service is unavailable");const n=new Error(code+" at "+e._path.toString()+": "+t);return n.code=code.toUpperCase(),n}(r,t);return ii(e,t,null,n)}}}}function pi(e,t){const n=fi(t);return e.queryToTagMap.get(n)}function fi(e){return e._path.toString()+"$"+e._queryIdentifier}function _i(e,t){return e.tagToQueryMap.get(t)}function vi(e){const t=e.indexOf("$");return Object(l.f)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new we(e.substr(0,t))}}function gi(e,t,n){const r=e.syncPointTree_.get(t);Object(l.f)(r,"Missing sync point for query tag that we're tracking");return Bn(r,n,hn(e.pendingWriteTree_,t),null)}function mi(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(l.f)(zn,"Reference.ts has not been loaded"),zn)(e._repo,e._path):e}class bi{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new bi(t)}node(){return this.node_}}class yi{constructor(e,path){this.syncTree_=e,this.path_=path}getImmediateChild(e){const t=Pe(this.path_,e);return new yi(this.syncTree_,t)}node(){return oi(this.syncTree_,this.path_)}}const wi=function(e,t,n){return e&&"object"==typeof e?(Object(l.f)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?xi(e[".sv"],t,n):"object"==typeof e[".sv"]?ki(e[".sv"],t):void Object(l.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},xi=function(e,t,n){if("timestamp"===e)return n.timestamp;Object(l.f)(!1,"Unexpected server value: "+e)},ki=function(e,t,n){e.hasOwnProperty("increment")||Object(l.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&Object(l.f)(!1,"Unexpected increment value: "+r);const o=t.node();if(Object(l.f)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return"number"!=typeof c?r:c+r},Ci=function(path,e,t,n){return Ti(e,new yi(t,path),n)},Oi=function(e,t,n){return Ti(e,new bi(t),n)};function Ti(e,t,n){const r=e.getPriority().val(),o=wi(r,t.getImmediateChild(".priority"),n);let l;if(e.isLeafNode()){const r=e,l=wi(r.getValue(),t,n);return l!==r.getValue()||o!==r.getPriority().val()?new nt(l,_t(o)):e}{const r=e;return l=r,o!==r.getPriority().val()&&(l=l.updatePriority(new nt(o))),r.forEachChild(it,((e,r)=>{const o=Ti(r,t.getImmediateChild(e),n);o!==r&&(l=l.updateImmediateChild(e,o))})),l}}class Ii{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Si(e,t){let path=t instanceof we?t:new we(t),n=e,r=ke(path);for(;null!==r;){const e=Object(l.I)(n.node.children,r)||{children:{},childCount:0};n=new Ii(r,n,e),path=Oe(path),r=ke(path)}return n}function Pi(e){return e.node.value}function Ei(e,t){e.node.value=t,Mi(e)}function ji(e){return e.node.childCount>0}function Ni(e,t){B(e.node.children,((n,r)=>{t(new Ii(n,e,r))}))}function Ri(e,t,n,r){n&&!r&&t(e),Ni(e,(e=>{Ri(e,t,!0,r)})),n&&r&&t(e)}function Ai(e){return new we(null===e.parent?e.name:Ai(e.parent)+"/"+e.name)}function Mi(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Pi(e)&&!ji(e)}(n),o=Object(l.m)(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,Mi(e)):r||o||(e.node.children[t]=n.node,e.node.childCount++,Mi(e))}(e.parent,e.name,e)}const Di=/[\[\].#$\/\u0000-\u001F\u007F]/,Fi=/[\[\].#$\u0000-\u001F\u007F]/,Li=10485760,qi=function(e){return"string"==typeof e&&0!==e.length&&!Di.test(e)},$i=function(e){return"string"==typeof e&&0!==e.length&&!Fi.test(e)},zi=function(e,t,path,n){n&&void 0===t||Ui(Object(l.r)(e,"value"),t,path)},Ui=function(e,data,t){const path=t instanceof we?new Ae(t,e):t;if(void 0===data)throw new Error(e+"contains undefined "+De(path));if("function"==typeof data)throw new Error(e+"contains a function "+De(path)+" with contents = "+data.toString());if(A(data))throw new Error(e+"contains "+data.toString()+" "+De(path));if("string"==typeof data&&data.length>Li/3&&Object(l.J)(data)>Li)throw new Error(e+"contains a string greater than "+"10485760 utf8 bytes "+De(path)+" ('"+data.substring(0,50)+"...')");if(data&&"object"==typeof data){let t=!1,n=!1;if(B(data,((r,o)=>{if(".value"===r)t=!0;else if(".priority"!==r&&".sv"!==r&&(n=!0,!qi(r)))throw new Error(e+" contains an invalid key ("+r+") "+De(path)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(l.J)(t),Me(e)}(path,r),Ui(e,o,path),function(e){const t=e.parts_.pop();e.byteLength_-=Object(l.J)(t),e.parts_.length>0&&(e.byteLength_-=1)}(path)})),t&&n)throw new Error(e+' contains ".value" child '+De(path)+" in addition to actual children.")}},Bi=function(e,t,n,r){if(!(r&&void 0===n||$i(n)))throw new Error(Object(l.r)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vi=function(e,path){if(".info"===ke(path))throw new Error(e+" failed = Can't modify data under /.info/")},Wi=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!qi(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$i(e)}(n))throw new Error(Object(l.r)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Hi{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gi(e,t){let n=null;for(let i=0;i<t.length;i++){const data=t[i],path=data.getPath();null===n||Ne(path,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:path}),n.events.push(data)}n&&e.eventLists_.push(n)}function Yi(e,t,n){Gi(e,n),Ki(e,(e=>Re(e,t)||Re(t,e)))}function Ki(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){t(r.path)?(Xi(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Xi(e){for(let i=0;i<e.events.length;i++){const t=e.events[i];if(null!==t){e.events[i]=null;const n=t.getEventRunner();T&&P("event: "+t.toString()),K(n)}}}const Qi="repo_interrupt";class Ji{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jt(),this.transactionQueueTree_=new Ii,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Zi(e,t,n){if(e.stats_=ce(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Pt(e.repoInfo_,((t,data,n,r)=>{ir(e,t,data,n,r)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>rr(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(l.L)(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new qe(e.repoInfo_,t,((t,data,n,r)=>{ir(e,t,data,n,r)}),(t=>{rr(e,t)}),(t=>{!function(e,t){B(t,((t,n)=>{sr(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return le[n]||(le[n]=t()),le[n]}(e.repoInfo_,(()=>new Mt(e.stats_,e.server_))),e.infoData_=new Et,e.infoSyncTree_=new Zn({startListening:(t,n,r,o)=>{let l=[];const c=e.infoData_.getNode(t._path);return c.isEmpty()||(l=ni(e.infoSyncTree_,t._path,c),setTimeout((()=>{o("ok")}),0)),l},stopListening:()=>{}}),sr(e,"connected",!1),e.serverSyncTree_=new Zn({startListening:(t,n,r,o)=>(e.server_.listen(t,r,n,((n,data)=>{const r=o(n,data);Yi(e.eventQueue_,t._path,r)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function er(e){const t=e.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function nr(e){return(t=(t={timestamp:er(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ir(e,t,data,n,r){e.dataUpdateCount++;const path=new we(t);data=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,data):data;let o=[];if(r)if(n){const t=Object(l.F)(data,(e=>_t(e)));o=function(e,path,t,n){const r=_i(e,n);if(r){const n=vi(r),o=n.path,l=n.queryId,c=je(o,path),h=Qt.fromObject(t);return gi(e,o,new zt(Ft(l),c,h))}return[]}(e.serverSyncTree_,path,t,r)}else{const t=_t(data);o=ri(e.serverSyncTree_,path,t,r)}else if(n){const t=Object(l.F)(data,(e=>_t(e)));o=function(e,path,t){const n=Qt.fromObject(t);return ci(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},path,n))}(e.serverSyncTree_,path,t)}else{const t=_t(data);o=ni(e.serverSyncTree_,path,t)}let c=path;o.length>0&&(c=_r(e,path)),Yi(e.eventQueue_,c,o)}function rr(e,t){sr(e,"connected",t),!1===t&&function(e){ur(e,"onDisconnectEvents");const t=nr(e),n=jt();Rt(e.onDisconnect_,xe(),((path,r)=>{const o=Ci(path,r,e.serverSyncTree_,t);Nt(n,path,o)}));let r=[];Rt(n,xe(),((path,t)=>{r=r.concat(ni(e.serverSyncTree_,path,t));const n=wr(e,path);_r(e,n)})),e.onDisconnect_=jt(),Yi(e.eventQueue_,xe(),r)}(e)}function sr(e,t,n){const path=new we("/.info/"+t),r=_t(n);e.infoData_.updateSnapshot(path,r);const o=ni(e.infoSyncTree_,path,r);Yi(e.eventQueue_,path,o)}function or(e){return e.nextWriteId_++}function ar(e,t){const n=ai(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((n=>{const r=_t(n).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())ni(e.serverSyncTree_,t._path,r);else{const n=function(e,t){const{syncPoint:n,serverCache:r,writesCache:o,serverCacheComplete:l}=si(t,e),view=Vn(n,t,o,r,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,view),t._queryParams.loadsAllData()?null:pi(e,t)}(e.serverSyncTree_,t);ri(e.serverSyncTree_,t._path,r,n)}return ii(e.serverSyncTree_,t,null).length>0&&ur(e,"unexpected cancel events in repoGetValue"),r}),(n=>(ur(e,"get for query "+Object(l.L)(t)+" failed: "+n),Promise.reject(new Error(n)))))}function lr(e,path,t,n,r){ur(e,"set",{path:path.toString(),value:t,priority:n});const o=nr(e),l=_t(t,n),c=oi(e.serverSyncTree_,path),h=Oi(l,c,o),d=or(e),f=ei(e.serverSyncTree_,path,h,d,!0);Gi(e.eventQueue_,f),e.server_.put(path.toString(),l.val(!0),((t,n)=>{const o="ok"===t;o||R("set at "+path+" failed: "+t);const l=ti(e.serverSyncTree_,d,!o);Yi(e.eventQueue_,path,l),dr(e,r,t,n)}));const _=wr(e,path);_r(e,_),Yi(e.eventQueue_,_,[])}function cr(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Qi)}function ur(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),P(n,...t)}function dr(e,t,n,r){t&&K((()=>{if("ok"===n)t(null);else{const code=(n||"error").toUpperCase();let e=code;r&&(e+=": "+r);const o=new Error(e);o.code=code,t(o)}}))}function pr(e,path,t){return oi(e.serverSyncTree_,path,t)||pt.EMPTY_NODE}function fr(e,t=e.transactionQueueTree_){if(t||yr(e,t),Pi(t)){const n=gr(e,t);Object(l.f)(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,path,t){const n=t.map((e=>e.currentWriteId)),r=pr(e,path,n);let o=r;const c=r.hash();for(let i=0;i<t.length;i++){const e=t[i];Object(l.f)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const n=je(path,e.path);o=o.updateChild(n,e.currentOutputSnapshotRaw)}const h=o.val(!0),d=path;e.server_.put(d.toString(),h,(n=>{ur(e,"transaction put response",{path:d.toString(),status:n});let r=[];if("ok"===n){const n=[];for(let i=0;i<t.length;i++)t[i].status=2,r=r.concat(ti(e.serverSyncTree_,t[i].currentWriteId)),t[i].onComplete&&n.push((()=>t[i].onComplete(null,!0,t[i].currentOutputSnapshotResolved))),t[i].unwatcher();yr(e,Si(e.transactionQueueTree_,path)),fr(e,e.transactionQueueTree_),Yi(e.eventQueue_,path,r);for(let i=0;i<n.length;i++)K(n[i])}else{if("datastale"===n)for(let i=0;i<t.length;i++)3===t[i].status?t[i].status=4:t[i].status=0;else{R("transaction at "+d.toString()+" failed: "+n);for(let i=0;i<t.length;i++)t[i].status=4,t[i].abortReason=n}_r(e,path)}}),c)}(e,Ai(t),n)}else ji(t)&&Ni(t,(t=>{fr(e,t)}))}function _r(e,t){const n=vr(e,t),path=Ai(n);return function(e,t,path){if(0===t.length)return;const n=[];let r=[];const o=t.filter((q=>0===q.status)).map((q=>q.currentWriteId));for(let i=0;i<t.length;i++){const h=t[i],d=je(path,h.path);let f,_=!1;if(Object(l.f)(null!==d,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)_=!0,f=h.abortReason,r=r.concat(ti(e.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)_=!0,f="maxretry",r=r.concat(ti(e.serverSyncTree_,h.currentWriteId,!0));else{const n=pr(e,h.path,o);h.currentInputSnapshot=n;const c=t[i].update(n.val());if(void 0!==c){Ui("transaction failed: Data returned ",c,h.path);let t=_t(c);"object"==typeof c&&null!=c&&Object(l.m)(c,".priority")||(t=t.updatePriority(n.getPriority()));const d=h.currentWriteId,f=nr(e),_=Oi(t,n,f);h.currentOutputSnapshotRaw=t,h.currentOutputSnapshotResolved=_,h.currentWriteId=or(e),o.splice(o.indexOf(d),1),r=r.concat(ei(e.serverSyncTree_,h.path,_,h.currentWriteId,h.applyLocally)),r=r.concat(ti(e.serverSyncTree_,d,!0))}else _=!0,f="nodata",r=r.concat(ti(e.serverSyncTree_,h.currentWriteId,!0))}Yi(e.eventQueue_,path,r),r=[],_&&(t[i].status=2,c=t[i].unwatcher,setTimeout(c,Math.floor(0)),t[i].onComplete&&("nodata"===f?n.push((()=>t[i].onComplete(null,!1,t[i].currentInputSnapshot))):n.push((()=>t[i].onComplete(new Error(f),!1,null)))))}var c;yr(e,e.transactionQueueTree_);for(let i=0;i<n.length;i++)K(n[i]);fr(e,e.transactionQueueTree_)}(e,gr(e,n),path),path}function vr(e,path){let t,n=e.transactionQueueTree_;for(t=ke(path);null!==t&&void 0===Pi(n);)n=Si(n,t),t=ke(path=Oe(path));return n}function gr(e,t){const n=[];return mr(e,t,n),n.sort(((a,b)=>a.order-b.order)),n}function mr(e,t,n){const r=Pi(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ni(t,(t=>{mr(e,t,n)}))}function yr(e,t){const n=Pi(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ei(t,n.length>0?n:void 0)}Ni(t,(t=>{yr(e,t)}))}function wr(e,path){const t=Ai(vr(e,path)),n=Si(e.transactionQueueTree_,path);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(n,(t=>{xr(e,t)})),xr(e,n),Ri(n,(t=>{xr(e,t)})),t}function xr(e,t){const n=Pi(t);if(n){const r=[];let o=[],c=-1;for(let i=0;i<n.length;i++)3===n[i].status||(1===n[i].status?(Object(l.f)(c===i-1,"All SENT items should be at beginning of queue."),c=i,n[i].status=3,n[i].abortReason="set"):(Object(l.f)(0===n[i].status,"Unexpected transaction status in abort"),n[i].unwatcher(),o=o.concat(ti(e.serverSyncTree_,n[i].currentWriteId,!0)),n[i].onComplete&&r.push(n[i].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Ei(t,void 0):n.length=c+1,Yi(e.eventQueue_,Ai(t),o);for(let i=0;i<r.length;i++)K(r[i])}}const kr=function(e,t){const n=Cr(e),r=n.namespace;"firebase.com"===n.domain&&N(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||N("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&R("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new re(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new we(n.pathString)}},Cr=function(e){let t="",n="",r="",o="",l="",c=!0,h="https",d=443;if("string"==typeof e){let f=e.indexOf("//");f>=0&&(h=e.substring(0,f-1),e=e.substring(f+2));let _=e.indexOf("/");-1===_&&(_=e.length);let v=e.indexOf("?");-1===v&&(v=e.length),t=e.substring(0,Math.min(_,v)),_<v&&(o=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(e){}t+="/"+e}return t}(e.substring(_,v)));const m=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):R(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,v)));f=t.indexOf(":"),f>=0?(c="https"===h||"wss"===h,d=parseInt(t.substring(f+1),10)):f=t.length;const y=t.slice(0,f);if("localhost"===y.toLowerCase())n="localhost";else if(y.split(".").length<=2)n=y;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),l=r}"ns"in m&&(l=m.ns)}return{host:t,port:d,domain:n,subdomain:r,secure:c,scheme:h,pathString:o,namespace:l}};class Or{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Ee(this._path)?null:Te(this._path)}get ref(){return new Tr(this._repo,this._path)}get _queryIdentifier(){const e=St(this._queryParams),t=z(e);return"{}"===t?"default":t}get _queryObject(){return St(this._queryParams)}isEqual(e){if(!((e=Object(l.t)(e))instanceof Or))return!1;const t=this._repo===e._repo,n=Ne(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(path){let e="";for(let i=path.pieceNum_;i<path.pieces_.length;i++)""!==path.pieces_[i]&&(e+="/"+encodeURIComponent(String(path.pieces_[i])));return e||"/"}(this._path)}}class Tr extends Or{constructor(e,path){super(e,path,new Tt,!1)}get parent(){const e=Se(this._path);return null===e?null:new Tr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ir{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(path){const e=new we(path),t=Pr(this.ref,path);return new Ir(this._node.getChild(e),t,it)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Ir(n,Pr(this.ref,t),it))))}hasChild(path){const e=new we(path);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Sr(e,path){return(e=Object(l.t)(e))._checkNotDeleted("ref"),void 0!==path?Pr(e._root,path):e._root}function Pr(e,path){var t,n,r,o;return null===ke((e=Object(l.t)(e))._path)?(t="child",n="path",o=!1,(r=path)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Bi(t,n,r,o)):Bi("child","path",path,!1),new Tr(e._repo,Pe(e._path,path))}function Er(e,t){e=Object(l.t)(e),Vi("set",e._path),zi("set",t,e._path,!1);const n=new l.a;return lr(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function jr(e){return ar((e=Object(l.t)(e))._repo,e).then((t=>new Ir(t,new Tr(e._repo,e._path),e._queryParams.getIndex())))}!function(e){Object(l.f)(!$n,"__referenceConstructor has already been defined"),$n=e}(Tr),function(e){Object(l.f)(!zn,"__referenceConstructor has already been defined"),zn=e}(Tr);const Nr={};let Rr=!1;function Ar(t,n,r,o,l){let c=o||t.options.databaseURL;void 0===c&&(t.options.projectId||N("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),P("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let h,d,f=kr(c,l),_=f.repoInfo;void 0!==e&&e.env&&(d=e.env.FIREBASE_DATABASE_EMULATOR_HOST),d?(h=!0,c=`http://${d}?ns=${_.namespace}`,f=kr(c,l),_=f.repoInfo):h=!f.repoInfo.secure;const v=l&&h?new Z(Z.OWNER):new J(t.name,t.options,n);Wi("Invalid Firebase Database URL",f),Ee(f.path)||N("Database URL must point to the root of a Firebase Database (not including a child path).");const m=function(e,t,n,r){let o=Nr[t.name];o||(o={},Nr[t.name]=o);let l=o[e.toURLString()];l&&N("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return l=new Ji(e,Rr,n,r),o[e.toURLString()]=l,l}(_,t,v,new Q(t.name,r));return new Mr(m,t)}class Mr{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Zi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tr(this._repo,xe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Nr[t];n&&n[e.key]===e||N(`Database ${t}(${e.repoInfo_}) has already been deleted.`),cr(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&N("Cannot call "+e+" on a deleted database.")}}function Dr(e=Object(r.d)(),t){return Object(r.b)(e,"database").getImmediate({identifier:t})}qe.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},qe.prototype.echo=function(data,e){this.sendRequest("echo",{d:data},e)};var Fr;!function(e){f=e}(r.a),Object(r.c)(new o.a("database",((e,{instanceIdentifier:t})=>Ar(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),Object(r.f)(h,d,Fr),Object(r.f)(h,d,"esm2017")}).call(this,n(234))},529:function(e,t,n){"use strict";n.d(t,"a",(function(){return Le})),n.d(t,"b",(function(){return $e})),n.d(t,"c",(function(){return qe})),n.d(t,"d",(function(){return Fe}));var r=n(60),o=n(3),l=n(75);const c="firebasestorage.googleapis.com";class h extends o.c{constructor(code,e){super(d(code),`Firebase Storage: ${e} (${d(code)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,h.prototype)}_codeEquals(code){return d(code)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function d(code){return"storage/"+code}function f(){return new h("unknown","An unknown error occurred, please check the error payload for server response.")}function _(){return new h("canceled","User canceled the upload/download.")}function v(){return new h("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function m(e){return new h("invalid-argument",e)}function y(){return new h("app-deleted","The Firebase app was deleted.")}function w(e,t){return new h("invalid-format","String does not match format '"+e+"': "+t)}function x(e){throw new h("internal-error","Internal error: "+e)}class k{constructor(e,path){this.bucket=e,this.path_=path}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=k.makeFromUrl(e,t)}catch(t){return new k(e,"")}if(""===n.path)return n;throw new h("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const o=new RegExp("^gs://"+r+"(/(.*))?$","i");function l(e){e.path_=decodeURIComponent(e.path)}const d=t.replace(/[.]/g,"\\."),f=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${t===c?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let i=0;i<f.length;i++){const t=f[i],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let o=r[t.indices.path];o||(o=""),n=new k(e,o),t.postModify(n);break}}if(null==n)throw function(e){return new h("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class C{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function O(p){return"string"==typeof p||p instanceof String}function T(p){return I()&&p instanceof Blob}function I(){return"undefined"!=typeof Blob}function S(e,t,n,r){if(r<t)throw m(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw m(`Invalid value for '${e}'. Expected ${n} or less.`)}function P(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function E(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}var j;!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(j||(j={}));class N{constructor(e,t,n,r,o,l,c,h,d,f,_){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new R(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===j.NO_ERROR,o=n.getStatus();if(!t||this.isRetryStatusCode_(o)){const t=n.getErrorCode()===j.ABORT;return void e(!1,new R(!1,null,t))}const l=-1!==this.successCodes_.indexOf(o);e(!0,new R(l,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,o=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(o,o.getResponse());void 0!==e?n(e):n()}catch(e){r(e)}else if(null!==o){const e=f();e.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,e)):r(e)}else if(t.canceled){r(this.appDelete_?y():_())}else{r(new h("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new R(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,o=null,l=null,c=!1,h=0;function d(){return 2===h}let f=!1;function _(...e){f||(f=!0,t.apply(null,e))}function v(t){o=setTimeout((()=>{o=null,e(y,d())}),t)}function m(){l&&clearTimeout(l)}function y(e,...t){if(f)return void m();if(e)return m(),void _.call(null,e,...t);if(d()||c)return m(),void _.call(null,e,...t);let n;r<64&&(r*=2),1===h?(h=2,n=0):n=1e3*(r+Math.random()),v(n)}let w=!1;function x(e){w||(w=!0,m(),f||(null!==o?(e||(h=2),clearTimeout(o),v(0)):e||(h=1)))}return v(0),l=setTimeout((()=>{c=!0,x(!0)}),n),x}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class R{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function A(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function M(...e){const t=A();if(void 0!==t){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}if(I())return new Blob(e);throw new h("unsupported-environment","This browser doesn't seem to support creating Blobs")}const D="raw",F="base64",L="base64url",$="data_url";class z{constructor(data,e){this.data=data,this.contentType=e||null}}function U(e,t){switch(e){case D:return new z(B(t));case F:case L:return new z(V(e,t));case $:return new z(function(e){const t=new W(e);return t.base64?V(F,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw w($,"Malformed data URL.")}return B(t)}(t.rest)}(t),new W(t).contentType)}throw f()}function B(e){const b=[];for(let i=0;i<e.length;i++){let t=e.charCodeAt(i);if(t<=127)b.push(t);else if(t<=2047)b.push(192|t>>6,128|63&t);else if(55296==(64512&t)){if(i<e.length-1&&56320==(64512&e.charCodeAt(i+1))){t=65536|(1023&t)<<10|1023&e.charCodeAt(++i),b.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|63&t)}else b.push(239,191,189)}else 56320==(64512&t)?b.push(239,191,189):b.push(224|t>>12,128|t>>6&63,128|63&t)}return new Uint8Array(b)}function V(e,t){switch(e){case F:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw w(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case L:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw w(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(t){throw w(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class W{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw w($,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(s,e){if(!(s.length>=e.length))return!1;return s.substring(s.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class H{constructor(data,e){let t=0,n="";T(data)?(this.data_=data,t=data.size,n=data.type):data instanceof ArrayBuffer?(e?this.data_=new Uint8Array(data):(this.data_=new Uint8Array(data.byteLength),this.data_.set(new Uint8Array(data))),t=this.data_.length):data instanceof Uint8Array&&(e?this.data_=data:(this.data_=new Uint8Array(data.length),this.data_.set(data)),t=data.length),this.size_=t,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,t){if(T(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new H(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new H(n,!0)}}static getBlob(...e){if(I()){const t=e.map((e=>e instanceof H?e.data_:e));return new H(M.apply(null,t))}{const t=e.map((e=>O(e)?U(D,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let o=0;return t.forEach((e=>{for(let i=0;i<e.length;i++)r[o++]=e[i]})),new H(r,!0)}}uploadData(){return this.data_}}function G(s){let e;try{e=JSON.parse(s)}catch(e){return null}return"object"!=typeof(p=e)||Array.isArray(p)?null:e;var p}function Y(path){const e=path.lastIndexOf("/",path.length-2);return-1===e?path:path.slice(e+1)}function K(e,t){return t}class X{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||K}}let Q=null;function J(){if(Q)return Q;const e=[];e.push(new X("bucket")),e.push(new X("generation")),e.push(new X("metageneration")),e.push(new X("name","fullPath",!0));const t=new X("name");t.xform=function(e,t){return function(e){return!O(e)||e.length<2?e:Y(e)}(t)},e.push(t);const n=new X("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new X("timeCreated")),e.push(new X("updated")),e.push(new X("md5Hash",null,!0)),e.push(new X("cacheControl",null,!0)),e.push(new X("contentDisposition",null,!0)),e.push(new X("contentEncoding",null,!0)),e.push(new X("contentLanguage",null,!0)),e.push(new X("contentType",null,!0)),e.push(new X("metadata","customMetadata",!0)),Q=e,Q}function Z(e,t,n){const r={type:"file"},o=n.length;for(let i=0;i<o;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,path=e.fullPath,r=new k(n,path);return t._makeStorageReference(r)}})}(r,e),r}function ee(e,t,n){const r=G(t);if(null===r)return null;return Z(e,r,n)}function te(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ne{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ie(e){if(!e)throw f()}function re(e,t){return function(n,text){const r=ee(e,text,t);return ie(null!==r),r}}function se(e,t){return function(n,text){const r=ee(e,text,t);return ie(null!==r),function(e,t,n,r){const o=G(t);if(null===o)return null;if(!O(o.downloadTokens))return null;const l=o.downloadTokens;if(0===l.length)return null;const c=encodeURIComponent;return l.split(",").map((t=>{const o=e.bucket,path=e.fullPath;return P("/b/"+c(o)+"/o/"+c(path),n,r)+E({alt:"media",token:t})}))[0]}(r,text,e.host,e._protocol)}}function oe(e){return function(t,n){let r;var path,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new h("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new h("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new h("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(path=e.path,r=new h("unauthorized","User does not have permission to access '"+path+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function ae(e){const t=oe(e);return function(n,r){let o=t(n,r);var path;return 404===n.getStatus()&&(path=e.path,o=new h("object-not-found","Object '"+path+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function le(e,t,n){const r=P(t.fullServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,l=new ne(r,"GET",re(e,n),o);return l.errorHandler=ae(t),l}function ce(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function he(e,t,n,r,o){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};const h=function(){let e="";for(let i=0;i<2;i++)e+=Math.random().toString().slice(2);return e}();c["Content-Type"]="multipart/related; boundary="+h;const d=ce(t,r,o),f="--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+te(d,n)+"\r\n--"+h+"\r\nContent-Type: "+d.contentType+"\r\n\r\n",_="\r\n--"+h+"--",body=H.getBlob(f,r,_);if(null===body)throw v();const m={name:d.fullPath},y=P(l,e.host,e._protocol),w=e.maxUploadRetryTime,x=new ne(y,"POST",re(e,n),w);return x.urlParams=m,x.headers=c,x.body=body.uploadData(),x.errorHandler=oe(t),x}class ue{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function de(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){ie(!1)}return ie(!!n&&-1!==(t||["active"]).indexOf(n)),n}const pe=262144;function fe(e,t,n,r,o,l,c,d){const f=new ue(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw new h("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const _=f.total-f.current;let m=_;o>0&&(m=Math.min(m,o));const y=f.current,w=y+m,x={"X-Goog-Upload-Command":m===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${f.current}`},body=r.slice(y,w);if(null===body)throw v();const k=t.maxUploadRetryTime,C=new ne(n,"POST",(function(e,text){const n=de(e,["active","final"]),o=f.current+m,c=r.size();let h;return h="final"===n?re(t,l)(e,text):null,new ue(o,c,"final"===n,h)}),k);return C.headers=x,C.body=body.uploadData(),C.progressCallback=d||null,C.errorHandler=oe(e),C}const _e="running",ve="paused",ge="success",me="canceled",be="error";function ye(e){switch(e){case"running":case"pausing":case"canceling":return _e;case"paused":return ve;case"success":return ge;case"canceled":return me;default:return be}}class we{constructor(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function xe(e){return(...t)=>{Promise.resolve().then((()=>e(...t)))}}class ke{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=j.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=j.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=j.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,body,n){if(this.sent_)throw x("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==n)for(const e in n)n.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,n[e].toString());return void 0!==body?this.xhr_.send(body):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw x("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw x("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw x("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw x("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(header){return this.xhr_.getResponseHeader(header)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ce extends ke{initXhr(){this.xhr_.responseType="text"}}function Oe(){return new Ce}class Te{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=J(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,o){const l=t.bucketOnlyServerUrl(),c=ce(t,r,o),h={name:c.fullPath},d=P(l,e.host,e._protocol),f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},body=te(c,n),_=e.maxUploadRetryTime,v=new ne(d,"POST",(function(e){let t;de(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){ie(!1)}return ie(O(t)),t}),_);return v.urlParams=h,v.headers=f,v.body=body,v.errorHandler=oe(t),v}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Oe,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const o=e.maxUploadRetryTime,l=new ne(n,"POST",(function(e){const t=de(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){ie(!1)}n||ie(!1);const o=Number(n);return ie(!isNaN(o)),new ue(o,r.size(),"final"===t)}),o);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=oe(t),l}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,Oe,t,n);this._request=o,o.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=pe*this._chunkMultiplier,t=new ue(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,o)=>{let l;try{l=fe(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(e){return this._error=e,void this._transition("error")}const c=this._ref.storage._makeRequest(l,Oe,r,o);this._request=c,c.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){pe*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=le(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,Oe,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=he(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Oe,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=_(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ye(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const o=new we(t||void 0,n||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const i=this._observers.indexOf(e);-1!==i&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ye(this._state)){case ge:xe(this._resolve.bind(null,this.snapshot))();break;case me:case be:xe(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ye(this._state)){case _e:case ve:e.next&&xe(e.next.bind(e,this.snapshot))();break;case ge:e.complete&&xe(e.complete.bind(e))();break;default:e.error&&xe(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ie{constructor(e,t){this._service=e,this._location=t instanceof k?t:k.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ie(e,t)}get root(){const e=new k(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Y(this._location.path)}get storage(){return this._service}get parent(){const e=function(path){if(0===path.length)return null;const e=path.lastIndexOf("/");return-1===e?"":path.slice(0,e)}(this._location.path);if(null===e)return null;const t=new k(this._location.bucket,e);return new Ie(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new h("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Se(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=P(t.fullServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,l=new ne(r,"GET",se(e,n),o);return l.errorHandler=ae(t),l}(e.storage,e._location,J());return e.storage.makeRequestWithTokens(t,Oe).then((e=>{if(null===e)throw new h("no-download-url","The given file does not have any download URLs.");return e}))}function Pe(e,t){const n=function(path,e){const t=e.split("/").filter((component=>component.length>0)).join("/");return 0===path.length?t:path+"/"+t}(e._location.path,t),r=new k(e._location.bucket,n);return new Ie(e.storage,r)}function Ee(e,path){if(e instanceof Re){const t=e;if(null==t._bucket)throw new h("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const n=new Ie(t,t._bucket);return null!=path?Ee(n,path):n}return void 0!==path?Pe(e,path):e}function je(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Re)return new Ie(e,t);throw m("To use ref(service, url), the first argument must be a Storage instance.")}return Ee(e,t)}function Ne(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:k.makeFromBucketSpec(n,e)}class Re{constructor(e,t,n,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=c,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?k.makeFromBucketSpec(r,this._host):Ne(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=k.makeFromBucketSpec(this._url,e):this._bucket=Ne(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(time){S("time",0,Number.POSITIVE_INFINITY,time),this._maxUploadRetryTime=time}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(time){S("time",0,Number.POSITIVE_INFINITY,time),this._maxOperationRetryTime=time}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ie(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new C(y());{const o=function(e,t,n,r,o,l){const c=E(e.urlParams),h=e.url+c,d=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(d,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(d,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(d,l),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(d,r),new N(h,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Ae="@firebase/storage",Me="0.9.9",De="storage";function Fe(e,data,t){return function(e,data,t){return e._throwIfRoot("uploadBytesResumable"),new Te(e,new H(data),t)}(e=Object(o.t)(e),data,t)}function Le(e){return Se(e=Object(o.t)(e))}function qe(e,t){return je(e=Object(o.t)(e),t)}function $e(e=Object(r.d)(),t){e=Object(o.t)(e);return Object(r.b)(e,De).getImmediate({identifier:t})}function ze(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return new Re(n,o,l,t,r.a)}Object(r.c)(new l.a(De,ze,"PUBLIC").setMultipleInstances(!0)),Object(r.f)(Ae,Me,""),Object(r.f)(Ae,Me,"esm2017")},533:function(e,t,n){n(5)({target:"Number",stat:!0},{isInteger:n(534)})},534:function(e,t,n){var r=n(35),o=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&o(e)===e}},535:function(e,t,n){var content=n(536);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("072f7395",content,!0,{sourceMap:!1})},536:function(e,t,n){var r=n(17)(!1);r.push([e.i,".theme--light.v-color-picker .v-color-picker__input input{border:thin solid rgba(0,0,0,.12);color:rgba(0,0,0,.87)}.theme--light.v-color-picker span{color:rgba(0,0,0,.6)}.theme--light.v-color-picker .v-color-picker__color,.theme--light.v-color-picker .v-color-picker__dot{background-color:hsla(0,0%,100%,0)}.theme--dark.v-color-picker .v-color-picker__input input{border:thin solid hsla(0,0%,100%,.12);color:#fff}.theme--dark.v-color-picker span{color:hsla(0,0%,100%,.7)}.theme--dark.v-color-picker .v-color-picker__color,.theme--dark.v-color-picker .v-color-picker__dot{background-color:hsla(0,0%,100%,.12)}.v-color-picker{align-self:flex-start;border-radius:4px;contain:content;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.v-color-picker__controls{display:flex;flex-direction:column;padding:16px}.v-color-picker--flat,.v-color-picker--flat .v-color-picker__track:not(.v-input--is-disabled) .v-slider__thumb{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}",""]),e.exports=r},537:function(e,t,n){var content=n(538);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("45ab84d5",content,!0,{sourceMap:!1})},538:function(e,t,n){var r=n(17)(!1);r.push([e.i,".v-color-picker__edit{margin-top:24px;display:flex}.v-color-picker__input{width:100%;display:flex;flex-wrap:wrap;justify-content:center;text-align:center}.v-application--is-ltr .v-color-picker__input:not(:last-child){margin-right:8px}.v-application--is-rtl .v-color-picker__input:not(:last-child){margin-left:8px}.v-color-picker__input input{border-radius:4px;margin-bottom:8px;min-width:0;outline:none;text-align:center;width:100%;height:28px}.v-color-picker__input span{font-size:.75rem}",""]),e.exports=r},539:function(e,t,n){var content=n(540);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("0e9210d5",content,!0,{sourceMap:!1})},540:function(e,t,n){var r=n(17)(!1);r.push([e.i,".v-color-picker__canvas{position:relative;overflow:hidden;contain:strict}.v-color-picker__canvas-dot{position:absolute;top:0;left:0;width:15px;height:15px;background:transparent;border-radius:50%;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1.5px rgba(0,0,0,.3)}.v-color-picker__canvas-dot--disabled{box-shadow:0 0 0 1.5px hsla(0,0%,100%,.7),inset 0 0 1px 1.5px rgba(0,0,0,.3)}.v-color-picker__canvas:hover .v-color-picker__canvas-dot{will-change:transform}",""]),e.exports=r},541:function(e,t,n){var content=n(542);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("50f729bb",content,!0,{sourceMap:!1})},542:function(e,t,n){var r=n(17)(!1);r.push([e.i,".v-color-picker .v-input__slider{border-radius:5px}.v-color-picker .v-input__slider .v-slider{margin:0}.v-color-picker__alpha:not(.v-input--is-disabled) .v-slider{border-radius:5px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGElEQVQYlWNgYGCQwoKxgqGgcJA5h3yFAAs8BRWVSwooAAAAAElFTkSuQmCC) repeat}.v-color-picker__sliders{display:flex;flex:1 0 auto;flex-direction:column}.v-color-picker__dot{position:relative;height:30px;width:30px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGElEQVQYlWNgYGCQwoKxgqGgcJA5h3yFAAs8BRWVSwooAAAAAElFTkSuQmCC) repeat;border-radius:50%;overflow:hidden}.v-application--is-ltr .v-color-picker__dot{margin-right:24px}.v-application--is-rtl .v-color-picker__dot{margin-left:24px}.v-color-picker__dot>div{width:100%;height:100%}.v-application--is-ltr .v-color-picker__hue:not(.v-input--is-disabled){background:linear-gradient(90deg,red 0,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)}.v-application--is-rtl .v-color-picker__hue:not(.v-input--is-disabled){background:linear-gradient(270deg,red 0,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)}.v-color-picker__track{position:relative;width:100%}.v-color-picker__preview{align-items:center;display:flex}.v-color-picker__preview .v-slider{min-height:10px}.v-color-picker__preview .v-slider:not(.v-slider--disabled) .v-slider__thumb{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.v-color-picker__preview .v-slider:not(.v-slider--disabled) .v-slider__track-container{opacity:0}.v-color-picker__preview:not(.v-color-picker__preview--hide-alpha) .v-color-picker__hue{margin-bottom:24px}",""]),e.exports=r},543:function(e,t,n){var content=n(544);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("c1d8e262",content,!0,{sourceMap:!1})},544:function(e,t,n){var r=n(17)(!1);r.push([e.i,'.theme--light.v-slider .v-slider__thumb,.theme--light.v-slider .v-slider__track-background,.theme--light.v-slider .v-slider__track-fill{background:rgba(0,0,0,.26)}.theme--dark.v-slider .v-slider__thumb,.theme--dark.v-slider .v-slider__track-background,.theme--dark.v-slider .v-slider__track-fill{background:hsla(0,0%,100%,.2)}.v-slider{cursor:default;display:flex;align-items:center;position:relative;flex:1;-webkit-user-select:none;-moz-user-select:none;user-select:none}.v-slider input{cursor:default;padding:0;width:100%;display:none}.v-slider__track-container{position:absolute;border-radius:0}.v-slider__thumb-container,.v-slider__track-background,.v-slider__track-fill{position:absolute;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-slider__thumb-container{outline:none;top:50%}.v-slider__thumb-container:hover .v-slider__thumb:before{transform:scale(1)}.v-slider__thumb{width:12px;height:12px;left:-6px;top:50%;transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none}.v-slider__thumb,.v-slider__thumb:before{position:absolute;border-radius:50%;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-slider__thumb:before{content:"";color:inherit;width:36px;height:36px;background:currentColor;opacity:.3;left:-12px;top:-12px;transform:scale(.1);pointer-events:none}.v-slider__thumb:after{content:"";width:42px;height:42px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.v-slider__tick,.v-slider__ticks-container{position:absolute}.v-slider__tick{opacity:0;background-color:rgba(0,0,0,.5);transition:.3s cubic-bezier(.25,.8,.5,1);border-radius:0}.v-slider__tick--filled{background-color:hsla(0,0%,100%,.5)}.v-application--is-ltr .v-slider__tick:first-child .v-slider__tick-label{transform:none}.v-application--is-rtl .v-slider__tick:first-child .v-slider__tick-label{transform:translateX(100%)}.v-application--is-ltr .v-slider__tick:last-child .v-slider__tick-label{transform:translateX(-100%)}.v-application--is-rtl .v-slider__tick:last-child .v-slider__tick-label{transform:none}.v-slider__tick-label{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.v-slider__thumb-label-container{top:0}.v-slider__thumb-label,.v-slider__thumb-label-container{position:absolute;left:0;transition:.3s cubic-bezier(.25,.8,.25,1)}.v-slider__thumb-label{display:flex;align-items:center;justify-content:center;font-size:.75rem;color:#fff;width:32px;height:32px;border-radius:50% 50% 0;bottom:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none}.v-slider--horizontal{min-height:32px;margin-left:8px;margin-right:8px}.v-slider--horizontal .v-slider__track-container{width:100%;height:2px;left:0;top:50%;transform:translateY(-50%)}.v-slider--horizontal .v-slider__track-background,.v-slider--horizontal .v-slider__track-fill{height:100%}.v-slider--horizontal .v-slider__ticks-container{left:0;height:2px;width:100%}.v-application--is-ltr .v-slider--horizontal .v-slider__tick:first-child .v-slider__tick-label,.v-application--is-rtl .v-slider--horizontal .v-slider__tick:first-child .v-slider__tick-label{transform:translateX(0)}.v-application--is-ltr .v-slider--horizontal .v-slider__tick:last-child .v-slider__tick-label{transform:translateX(-100%)}.v-application--is-rtl .v-slider--horizontal .v-slider__tick:last-child .v-slider__tick-label{transform:translateX(100%)}.v-slider--horizontal .v-slider__tick .v-slider__tick-label{top:8px}.v-application--is-ltr .v-slider--horizontal .v-slider__tick .v-slider__tick-label{transform:translateX(-50%)}.v-application--is-rtl .v-slider--horizontal .v-slider__tick .v-slider__tick-label{transform:translateX(50%)}.v-slider--horizontal .v-slider__thumb-label{transform:translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)}.v-slider--horizontal .v-slider__thumb-label>*{transform:rotate(-45deg)}.v-slider--vertical{min-height:150px;margin-top:12px;margin-bottom:12px}.v-slider--vertical .v-slider__track-container{height:100%;width:2px;left:50%;top:0;transform:translateX(-50%)}.v-slider--vertical .v-slider__track-background,.v-slider--vertical .v-slider__track-fill{width:100%}.v-slider--vertical .v-slider__thumb-container{left:50%}.v-slider--vertical .v-slider__ticks-container{top:0;width:2px;height:100%;left:50%;transform:translateX(-50%)}.v-application--is-ltr .v-slider--vertical .v-slider__tick .v-slider__tick-label,.v-application--is-ltr .v-slider--vertical .v-slider__tick:first-child .v-slider__tick-label,.v-application--is-ltr .v-slider--vertical .v-slider__tick:last-child .v-slider__tick-label{transform:translateY(-50%);left:12px}.v-application--is-rtl .v-slider--vertical .v-slider__tick .v-slider__tick-label,.v-application--is-rtl .v-slider--vertical .v-slider__tick:first-child .v-slider__tick-label,.v-application--is-rtl .v-slider--vertical .v-slider__tick:last-child .v-slider__tick-label{transform:translateY(-50%);right:12px}.v-slider--vertical .v-slider__thumb-label>*{transform:rotate(-135deg)}.v-slider__thumb-container--focused .v-slider__thumb:before{transform:scale(1)}.v-slider--active .v-slider__tick{opacity:1}.v-slider__thumb-container--active .v-slider__thumb:before{transform:scale(1.5)!important}.v-slider--disabled{pointer-events:none}.v-slider--disabled .v-slider__thumb{width:8px;height:8px;left:-4px}.v-slider--disabled .v-slider__thumb:before{display:none}.v-slider__ticks-container--always-show .v-slider__tick{opacity:1}.v-input__slider.v-input--is-readonly>.v-input__control{pointer-events:none}.v-application--is-ltr .v-input__slider .v-input__slot .v-label{margin-left:0;margin-right:12px}.v-application--is-ltr .v-input__slider--inverse-label .v-input__slot .v-label,.v-application--is-rtl .v-input__slider .v-input__slot .v-label{margin-right:0;margin-left:12px}.v-application--is-rtl .v-input__slider--inverse-label .v-input__slot .v-label{margin-left:0;margin-right:12px}.v-input__slider--vertical{align-items:center}.v-application--is-ltr .v-input__slider--vertical{flex-direction:column-reverse}.v-application--is-rtl .v-input__slider--vertical{flex-direction:column}.v-input__slider--vertical .v-input__append-outer,.v-input__slider--vertical .v-input__prepend-outer,.v-input__slider--vertical .v-input__slot{margin:0}.v-input__slider--vertical .v-messages{display:none}.v-input--has-state .v-slider__track-background{opacity:.4}',""]),e.exports=r},545:function(e,t,n){var content=n(546);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("73245d55",content,!0,{sourceMap:!1})},546:function(e,t,n){var r=n(17)(!1);r.push([e.i,".v-color-picker__swatches{overflow-y:auto}.v-color-picker__swatches>div{display:flex;flex-wrap:wrap;justify-content:center;padding:8px}.v-color-picker__swatch{display:flex;flex-direction:column;margin-bottom:10px}.v-color-picker__color{position:relative;height:18px;max-height:18px;width:45px;margin:2px 4px;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGElEQVQYlWNgYGCQwoKxgqGgcJA5h3yFAAs8BRWVSwooAAAAAElFTkSuQmCC) repeat;cursor:pointer}.v-color-picker__color>div{display:flex;align-items:center;justify-content:center;width:100%;height:100%}",""]),e.exports=r},547:function(e,t,n){var content=n(548);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("8f7a87bc",content,!0,{sourceMap:!1})},548:function(e,t,n){var r=n(17)(!1);r.push([e.i,".v-slide-group{display:flex}.v-slide-group:not(.v-slide-group--has-affixes)>.v-slide-group__next,.v-slide-group:not(.v-slide-group--has-affixes)>.v-slide-group__prev{display:none}.v-slide-group.v-item-group>.v-slide-group__next,.v-slide-group.v-item-group>.v-slide-group__prev{cursor:pointer}.v-slide-item{display:inline-flex;flex:0 1 auto}.v-slide-group__next,.v-slide-group__prev{align-items:center;display:flex;flex:0 1 52px;justify-content:center;min-width:52px}.v-slide-group__content{display:flex;flex:1 0 auto;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1);white-space:nowrap}.v-slide-group__wrapper{contain:content;display:flex;flex:1 1 auto;overflow:hidden}.v-slide-group__next--disabled,.v-slide-group__prev--disabled{pointer-events:none}",""]),e.exports=r},549:function(e,t,n){var content=n(550);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("2d62e390",content,!0,{sourceMap:!1})},550:function(e,t,n){var r=n(17)(!1);r.push([e.i,".v-carousel{overflow:hidden;position:relative;width:100%}.v-carousel__controls{align-items:center;background:rgba(0,0,0,.3);bottom:0;display:flex;height:50px;justify-content:center;list-style-type:none;position:absolute;width:100%;z-index:1}.v-carousel__controls>.v-item-group{flex:0 1 auto}.v-carousel__controls__item{margin:0 8px}.v-carousel__controls__item .v-icon{opacity:.5}.v-carousel__controls__item--active .v-icon{opacity:1;vertical-align:middle}.v-carousel__controls__item:hover{background:none}.v-carousel__controls__item:hover .v-icon{opacity:.8}.v-carousel__progress{margin:0;position:absolute;bottom:0;left:0;right:0}.v-carousel .v-window-item{display:block;height:inherit;text-decoration:none}.v-carousel--hide-delimiter-background .v-carousel__controls{background:transparent}.v-carousel--vertical-delimiters .v-carousel__controls{height:100%!important;width:50px}",""]),e.exports=r},551:function(e,t,n){var content=n(552);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("0d135400",content,!0,{sourceMap:!1})},552:function(e,t,n){var r=n(17)(!1);r.push([e.i,".v-window{overflow:hidden}.v-window__container{display:flex;flex-direction:column;height:inherit;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-window__container--is-active{overflow:hidden}.v-window__next,.v-window__prev{background:rgba(0,0,0,.3);border-radius:50%;position:absolute;margin:0 16px;top:calc(50% - 20px);z-index:1}.v-window__next .v-btn:hover,.v-window__prev .v-btn:hover{background:none}.v-application--is-ltr .v-window__prev{left:0}.v-application--is-ltr .v-window__next,.v-application--is-rtl .v-window__prev{right:0}.v-application--is-rtl .v-window__next{left:0}.v-window--show-arrows-on-hover{overflow:hidden}.v-window--show-arrows-on-hover .v-window__next,.v-window--show-arrows-on-hover .v-window__prev{transition:transform .2s cubic-bezier(.25,.8,.5,1)}.v-application--is-ltr .v-window--show-arrows-on-hover .v-window__prev{transform:translateX(-200%)}.v-application--is-ltr .v-window--show-arrows-on-hover .v-window__next,.v-application--is-rtl .v-window--show-arrows-on-hover .v-window__prev{transform:translateX(200%)}.v-application--is-rtl .v-window--show-arrows-on-hover .v-window__next{transform:translateX(-200%)}.v-window--show-arrows-on-hover:hover .v-window__next,.v-window--show-arrows-on-hover:hover .v-window__prev{transform:translateX(0)}.v-window-x-reverse-transition-enter-active,.v-window-x-reverse-transition-leave-active,.v-window-x-transition-enter-active,.v-window-x-transition-leave-active,.v-window-y-reverse-transition-enter-active,.v-window-y-reverse-transition-leave-active,.v-window-y-transition-enter-active,.v-window-y-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)}.v-window-x-reverse-transition-leave,.v-window-x-reverse-transition-leave-to,.v-window-x-transition-leave,.v-window-x-transition-leave-to,.v-window-y-reverse-transition-leave,.v-window-y-reverse-transition-leave-to,.v-window-y-transition-leave,.v-window-y-transition-leave-to{position:absolute!important;top:0;width:100%}.v-window-x-transition-enter{transform:translateX(100%)}.v-window-x-reverse-transition-enter,.v-window-x-transition-leave-to{transform:translateX(-100%)}.v-window-x-reverse-transition-leave-to{transform:translateX(100%)}.v-window-y-transition-enter{transform:translateY(100%)}.v-window-y-reverse-transition-enter,.v-window-y-transition-leave-to{transform:translateY(-100%)}.v-window-y-reverse-transition-leave-to{transform:translateY(100%)}",""]),e.exports=r},553:function(e,t,n){var content=n(554);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("5c8fbe94",content,!0,{sourceMap:!1})},554:function(e,t,n){var r=n(17)(!1);r.push([e.i,".theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:#fff}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:hsla(0,0%,100%,.5)}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:hsla(0,0%,100%,.5)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:rgba(0,0,0,.87)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:rgba(0,0,0,.38)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:rgba(0,0,0,.38)}.v-textarea textarea{align-self:stretch;flex:1 1 auto;line-height:1.75rem;max-width:100%;min-height:32px;outline:none;padding:0;width:100%}.v-textarea .v-text-field__prefix,.v-textarea .v-text-field__suffix{padding-top:2px;align-self:start}.v-textarea.v-text-field--box .v-text-field__prefix,.v-textarea.v-text-field--box textarea,.v-textarea.v-text-field--enclosed .v-text-field__prefix,.v-textarea.v-text-field--enclosed textarea{margin-top:24px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) textarea{margin-top:10px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-label{top:18px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense textarea{margin-top:6px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-outer{align-self:flex-start;margin-top:8px}.v-textarea.v-text-field--solo{align-items:flex-start}.v-textarea.v-text-field--solo .v-input__control textarea{caret-color:auto}.v-textarea.v-text-field--solo .v-input__append-inner,.v-textarea.v-text-field--solo .v-input__append-outer,.v-textarea.v-text-field--solo .v-input__prepend-inner,.v-textarea.v-text-field--solo .v-input__prepend-outer{align-self:flex-start;margin-top:12px}.v-application--is-ltr .v-textarea.v-text-field--solo .v-input__append-inner{padding-left:12px}.v-application--is-rtl .v-textarea.v-text-field--solo .v-input__append-inner{padding-right:12px}.v-textarea--auto-grow textarea{overflow:hidden}.v-textarea--no-resize textarea{resize:none}.v-textarea.v-text-field--enclosed .v-text-field__slot{align-self:stretch}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-right:-12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-left:-12px}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-right:12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-left:12px}",""]),e.exports=r},638:function(e,t,n){"use strict";var r=n(60);n.d(t,"a",(function(){return r.e}));Object(r.f)("firebase","9.9.2","app")},639:function(e,t,n){"use strict";var r=n(525);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d}))},655:function(e,t,n){"use strict";n.d(t,"a",(function(){return Re}));var r=n(60),o=n(94),l=n(3),c=n(75),h=n(308);const d="@firebase/installations",f="0.5.12",_=1e4,v="w:0.5.12",m="FIS_v2",y=36e5,w={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},x=new l.b("installations","Installations",w);function k(e){return e instanceof l.c&&e.code.includes("request-failed")}function C({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function O(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function T(e,t){const n=(await t.json()).error;return x.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function I({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function S(e,{refreshToken:t}){const n=I(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}async function P(e){const t=await e();return t.status>=500&&t.status<600?e():t}function E(e){return new Promise((t=>{setTimeout(t,e)}))}const j=/^[cdef][\w-]{21}$/;function N(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return j.test(t)?t:""}catch(e){return""}}function R(e){return`${e.appName}!${e.appId}`}const A=new Map;function M(e,t){const n=R(e);D(n,t),function(e,t){const n=L();n&&n.postMessage({key:e,fid:t});$()}(n,t)}function D(e,t){const n=A.get(e);if(n)for(const e of n)e(t)}let F=null;function L(){return!F&&"BroadcastChannel"in self&&(F=new BroadcastChannel("[Firebase] FID Change"),F.onmessage=e=>{D(e.data.key,e.data.fid)}),F}function $(){0===A.size&&F&&(F.close(),F=null)}const z="firebase-installations-store";let U=null;function B(){return U||(U=Object(h.a)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(z)}})),U}async function V(e,t){const n=R(e),r=(await B()).transaction(z,"readwrite"),o=r.objectStore(z),l=await o.get(n);return await o.put(t,n),await r.done,l&&l.fid===t.fid||M(e,t.fid),t}async function W(e){const t=R(e),n=(await B()).transaction(z,"readwrite");await n.objectStore(z).delete(t),await n.done}async function H(e,t){const n=R(e),r=(await B()).transaction(z,"readwrite"),o=r.objectStore(z),l=await o.get(n),c=t(l);return void 0===c?await o.delete(n):await o.put(c,n),await r.done,!c||l&&l.fid===c.fid||M(e,c.fid),c}async function G(e){let t;const n=await H(e.appConfig,(n=>{const r=function(e){return X(e||{fid:N(),registrationStatus:0})}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(x.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=C(e),o=I(e),l=t.getImmediate({optional:!0});if(l){const e=await l.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const body={fid:n,authVersion:m,appId:e.appId,sdkVersion:v},c={method:"POST",headers:o,body:JSON.stringify(body)},h=await P((()=>fetch(r,c)));if(h.ok){const e=await h.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:O(e.authToken)}}throw await T("Create Installation",h)}(e,t);return V(e.appConfig,n)}catch(n){throw k(n)&&409===n.customData.serverCode?await W(e.appConfig):await V(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Y(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Y(e){let t=await K(e.appConfig);for(;1===t.registrationStatus;)await E(100),t=await K(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await G(e);return n||t}return t}function K(e){return H(e,(e=>{if(!e)throw x.create("installation-not-found");return X(e)}))}function X(e){return 1===(t=e).registrationStatus&&t.registrationTime+_<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Q({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${C(e)}/${t}/authTokens:generate`}(e,n),o=S(e,n),l=t.getImmediate({optional:!0});if(l){const e=await l.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const body={installation:{sdkVersion:v,appId:e.appId}},c={method:"POST",headers:o,body:JSON.stringify(body)},h=await P((()=>fetch(r,c)));if(h.ok){return O(await h.json())}throw await T("Generate Auth Token",h)}async function J(e,t=!1){let n;const r=await H(e.appConfig,(r=>{if(!ee(r))throw x.create("not-registered");const o=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+y}(e)}(o))return r;if(1===o.requestStatus)return n=async function(e,t){let n=await Z(e.appConfig);for(;1===n.authToken.requestStatus;)await E(100),n=await Z(e.appConfig);const r=n.authToken;return 0===r.requestStatus?J(e,t):r}(e,t),r;{if(!navigator.onLine)throw x.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await Q(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await V(e.appConfig,r),n}catch(n){if(!k(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await V(e.appConfig,n)}else await W(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function Z(e){return H(e,(e=>{if(!ee(e))throw x.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+_<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function ee(e){return void 0!==e&&2===e.registrationStatus}async function te(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await G(e);t&&await t}(n);return(await J(n,t)).token}function ne(e){return x.create("missing-app-config-values",{valueName:e})}const ie="installations",re=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ne("App Configuration");if(!e.name)throw ne("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ne(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Object(r.b)(t,"heartbeat"),_delete:()=>Promise.resolve()}},se=e=>{const t=e.getProvider("app").getImmediate(),n=Object(r.b)(t,ie).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await G(t);return r?r.catch(console.error):J(t).catch(console.error),n.fid}(n),getToken:e=>te(n,e)}};Object(r.c)(new c.a(ie,re,"PUBLIC")),Object(r.c)(new c.a("installations-internal",se,"PRIVATE")),Object(r.f)(d,f),Object(r.f)(d,f,"esm2017");const oe="analytics",ae="https://www.googletagmanager.com/gtag/js",le=new o.b("@firebase/analytics");function ce(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function he(e,t,n,r){return async function(o,l,c){try{"event"===o?await async function(e,t,n,r,o){try{let l=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e]);const r=await ce(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),o=e&&t[e.appId];if(!o){l=[];break}l.push(o)}}0===l.length&&(l=Object.values(t)),await Promise.all(l),e("event",r,o||{})}catch(e){le.error(e)}}(e,t,n,l,c):"config"===o?await async function(e,t,n,r,o,l){const c=r[o];try{if(c)await t[c];else{const e=(await ce(n)).find((e=>e.measurementId===o));e&&await t[e.appId]}}catch(e){le.error(e)}e("config",o,l)}(e,t,n,r,l,c):"consent"===o?e("consent","update",c):e("set",l)}catch(e){le.error(e)}}}const ue={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},de=new l.b("analytics","Analytics",ue);const pe=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function fe(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function _e(e,t=pe,n){const{appId:r,apiKey:o,measurementId:l}=e.options;if(!r)throw de.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:r};throw de.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new ge;return setTimeout((async()=>{h.abort()}),void 0!==n?n:6e4),ve({appId:r,apiKey:o,measurementId:l},c,h,t)}async function ve(e,{throttleEndTimeMillis:t,backoffCount:n},r,o=pe){var c,h;const{appId:d,measurementId:f}=e;try{await function(e,t){return new Promise(((n,r)=>{const o=Math.max(t-Date.now(),0),l=setTimeout(n,o);e.addEventListener((()=>{clearTimeout(l),r(de.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(e){if(f)return le.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${null===(c=e)||void 0===c?void 0:c.message}]`),{appId:d,measurementId:f};throw e}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,o={method:"GET",headers:fe(r)},l="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),c=await fetch(l,o);if(200!==c.status&&304!==c.status){let e="";try{const n=await c.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(e){}throw de.create("config-fetch-failed",{httpStatus:c.status,responseMessage:e})}return c.json()}(e);return o.deleteThrottleMetadata(d),t}catch(t){const c=t;if(!function(e){if(!(e instanceof l.c&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c)){if(o.deleteThrottleMetadata(d),f)return le.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:d,measurementId:f};throw t}const _=503===Number(null===(h=null==c?void 0:c.customData)||void 0===h?void 0:h.httpStatus)?Object(l.l)(n,o.intervalMillis,30):Object(l.l)(n,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+_,backoffCount:n+1};return o.setThrottleMetadata(d,v),le.debug(`Calling attemptFetch again in ${_} millis`),ve(e,v,r,o)}}class ge{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let me,be;function ye(e){be=e}function we(e){me=e}async function xe(e,t,n,r,o,c,h){var d;const f=_e(e);f.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&le.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>le.error(e))),t.push(f);const _=async function(){var e;if(!Object(l.z)())return le.warn(de.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Object(l.M)()}catch(t){return le.warn(de.create("indexeddb-unavailable",{errorInfo:null===(e=t)||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[v,m]=await Promise.all([f,_]);(function(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ae))return t;return null})()||function(e,t){const script=document.createElement("script");script.src=`${ae}?l=${e}&id=${t}`,script.async=!0,document.head.appendChild(script)}(c,v.measurementId),be&&(o("consent","default",be),ye(void 0)),o("js",new Date);const y=null!==(d=null==h?void 0:h.config)&&void 0!==d?d:{};return y.origin="firebase",y.update=!0,null!=m&&(y.firebase_id=m),o("config",v.measurementId,y),me&&(o("set",me),we(void 0)),v.measurementId}class ke{constructor(e){this.app=e}_delete(){return delete Ce[this.app.options.appId],Promise.resolve()}}let Ce={},Oe=[];const Te={};let Ie,Se,Pe="dataLayer",Ee="gtag",je=!1;function Ne(e,t,n){!function(){const e=[];if(Object(l.w)()&&e.push("This is a browser extension environment."),Object(l.e)()||e.push("Cookies are not available."),e.length>0){const details=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),t=de.create("invalid-analytics-context",{errorInfo:details});le.warn(t.message)}}();const r=e.options.appId;if(!r)throw de.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw de.create("no-api-key");le.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ce[r])throw de.create("already-exists",{id:r});if(!je){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Pe);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,o){let l=function(...e){window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(l=window[o]),window[o]=he(l,e,t,n),{gtagCore:l,wrappedGtag:window[o]}}(Ce,Oe,Te,Pe,Ee);Se=e,Ie=t,je=!0}Ce[r]=xe(e,Oe,Te,t,Ie,Pe,n);return new ke(e)}function Re(e=Object(r.d)()){e=Object(l.t)(e);const t=Object(r.b)(e,oe);return t.isInitialized()?t.getImmediate():function(e,t={}){const n=Object(r.b)(e,oe);if(n.isInitialized()){const e=n.getImmediate();if(Object(l.q)(t,n.getOptions()))return e;throw de.create("already-initialized")}return n.initialize({options:t})}(e)}function Ae(e,t,n,r){e=Object(l.t)(e),async function(e,t,n,r,o){if(o&&o.global)e("event",n,r);else{const o=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:o}))}}(Se,Ce[e.app.options.appId],t,n,r).catch((e=>le.error(e)))}const Me="@firebase/analytics",De="0.8.0";Object(r.c)(new c.a(oe,((e,{options:t})=>Ne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),Object(r.c)(new c.a("analytics-internal",(function(e){try{const t=e.getProvider(oe).getImmediate();return{logEvent:(e,n,r)=>Ae(t,e,n,r)}}catch(e){throw de.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),Object(r.f)(Me,De),Object(r.f)(Me,De,"esm2017")},658:function(e,t,n){"use strict";n(10),n(9),n(12),n(4),n(15),n(11),n(16);var r=n(1),o=(n(23),n(49),n(553),n(483)),l=n(6);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var h=Object(l.a)(o.a);t.a=h.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(e){var t=this;this.$nextTick((function(){var n;e?t.calculateInputHeight():null==(n=t.$refs.input)||n.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var input=this.$refs.input;if(input){input.style.height="0";var e=input.scrollHeight,t=parseInt(this.rows,10)*parseFloat(this.rowHeight);input.style.height=Math.max(t,e)+"px"}},genInput:function(){var input=o.a.options.methods.genInput.call(this);return input.tag="textarea",delete input.data.attrs.type,input.data.attrs.rows=this.rows,input},onInput:function(e){o.a.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},660:function(e,t,n){"use strict";n(9),n(12),n(4),n(15),n(11),n(16);var r=n(1),o=(n(23),n(39),n(52),n(10),n(152),n(153),n(535),n(62)),l=(n(30),n(541),n(67),n(49),n(71),n(80),n(318),n(543),n(85)),c=n(105),h=n(6),d=n(146),f=n(179),_=n(0),v=n(8);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w=Object(h.a)(l.a,d.a).extend({name:"v-slider",directives:{ClickOutside:f.a},mixins:[d.a],props:{disabled:Boolean,inverseLabel:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:1},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:function(e){return"boolean"==typeof e||"always"===e}},thumbSize:{type:[Number,String],default:32},tickLabels:{type:Array,default:function(){return[]}},ticks:{type:[Boolean,String],default:!1,validator:function(e){return"boolean"==typeof e||"always"===e}},tickSize:{type:[Number,String],default:2},trackColor:String,trackFillColor:String,value:[Number,String],vertical:Boolean},data:function(){return{app:null,oldValue:null,thumbPressed:!1,mouseTimeout:-1,isFocused:!1,isActive:!1,noClick:!1,startOffset:0}},computed:{classes:function(){return y(y({},l.a.options.computed.classes.call(this)),{},{"v-input__slider":!0,"v-input__slider--vertical":this.vertical,"v-input__slider--inverse-label":this.inverseLabel})},internalValue:{get:function(){return this.lazyValue},set:function(e){e=isNaN(e)?this.minValue:e;var t=this.roundValue(Math.min(Math.max(e,this.minValue),this.maxValue));t!==this.lazyValue&&(this.lazyValue=t,this.$emit("input",t))}},trackTransition:function(){return this.thumbPressed?this.showTicks||this.stepNumeric?"0.1s cubic-bezier(0.25, 0.8, 0.5, 1)":"none":""},minValue:function(){return parseFloat(this.min)},maxValue:function(){return parseFloat(this.max)},stepNumeric:function(){return this.step>0?parseFloat(this.step):0},inputWidth:function(){var e=(this.roundValue(this.internalValue)-this.minValue)/(this.maxValue-this.minValue)*100;return isNaN(e)?0:e},trackFillStyles:function(){var e,t=this.vertical?"bottom":"left",n=this.vertical?"top":"right",o=this.vertical?"height":"width",l=this.$vuetify.rtl?"auto":"0",c=this.$vuetify.rtl?"0":"auto",h=this.isDisabled?"calc(".concat(this.inputWidth,"% - 10px)"):"".concat(this.inputWidth,"%");return e={transition:this.trackTransition},Object(r.a)(e,t,l),Object(r.a)(e,n,c),Object(r.a)(e,o,h),e},trackStyles:function(){var e,t=this.vertical?this.$vuetify.rtl?"bottom":"top":this.$vuetify.rtl?"left":"right",n=this.vertical?"height":"width",o=this.isDisabled?"calc(".concat(100-this.inputWidth,"% - 10px)"):"calc(".concat(100-this.inputWidth,"%)");return e={transition:this.trackTransition},Object(r.a)(e,t,"0px"),Object(r.a)(e,n,o),e},showTicks:function(){return this.tickLabels.length>0||!(this.isDisabled||!this.stepNumeric||!this.ticks)},numTicks:function(){return Math.ceil((this.maxValue-this.minValue)/this.stepNumeric)},showThumbLabel:function(){return!(this.isDisabled||!this.thumbLabel&&!this.$scopedSlots["thumb-label"])},computedTrackColor:function(){if(!this.isDisabled)return this.trackColor?this.trackColor:this.isDark?this.validationState:this.validationState||"primary lighten-3"},computedTrackFillColor:function(){if(!this.isDisabled)return this.trackFillColor?this.trackFillColor:this.validationState||this.computedColor},computedThumbColor:function(){return this.thumbColor?this.thumbColor:this.validationState||this.computedColor}},watch:{min:function(e){var t=parseFloat(e);t>this.internalValue&&this.$emit("input",t)},max:function(e){var t=parseFloat(e);t<this.internalValue&&this.$emit("input",t)},value:{handler:function(e){this.internalValue=e}}},beforeMount:function(){this.internalValue=this.value},mounted:function(){this.app=document.querySelector("[data-app]")||Object(v.c)("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot:function(){var e=[this.genLabel()],t=this.genSlider();return this.inverseLabel?e.unshift(t):e.push(t),e.push(this.genProgress()),e},genSlider:function(){return this.$createElement("div",{class:y({"v-slider":!0,"v-slider--horizontal":!this.vertical,"v-slider--vertical":this.vertical,"v-slider--focused":this.isFocused,"v-slider--active":this.isActive,"v-slider--disabled":this.isDisabled,"v-slider--readonly":this.isReadonly},this.themeClasses),directives:[{name:"click-outside",value:this.onBlur}],on:{click:this.onSliderClick,mousedown:this.onSliderMouseDown,touchstart:this.onSliderMouseDown}},this.genChildren())},genChildren:function(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isActive,this.isFocused,this.onFocus,this.onBlur)]},genInput:function(){return this.$createElement("input",{attrs:y({value:this.internalValue,id:this.computedId,disabled:!0,readonly:!0,tabindex:-1},this.$attrs)})},genTrackContainer:function(){var e=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track-background",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedTrackFillColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},e)},genSteps:function(){var e=this;if(!this.step||!this.showTicks)return null;var t=parseFloat(this.tickSize),n=Object(_.h)(this.numTicks+1),o=this.vertical?"bottom":this.$vuetify.rtl?"right":"left",l=this.vertical?this.$vuetify.rtl?"left":"right":"top";this.vertical&&n.reverse();var c=n.map((function(n){var c,h=[];e.tickLabels[n]&&h.push(e.$createElement("div",{staticClass:"v-slider__tick-label"},e.tickLabels[n]));var d=n*(100/e.numTicks),f=e.$vuetify.rtl?100-e.inputWidth<d:d<e.inputWidth;return e.$createElement("span",{key:n,staticClass:"v-slider__tick",class:{"v-slider__tick--filled":f},style:(c={width:"".concat(t,"px"),height:"".concat(t,"px")},Object(r.a)(c,o,"calc(".concat(d,"% - ").concat(t/2,"px)")),Object(r.a)(c,l,"calc(50% - ".concat(t/2,"px)")),c)},h)}));return this.$createElement("div",{staticClass:"v-slider__ticks-container",class:{"v-slider__ticks-container--always-show":"always"===this.ticks||this.tickLabels.length>0}},c)},genThumbContainer:function(e,t,n,r,o,l){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"thumb",h=[this.genThumb()],d=this.genThumbLabelContent(e);return this.showThumbLabel&&h.push(this.genThumbLabel(d)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{ref:c,key:c,staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--active":n,"v-slider__thumb-container--focused":r,"v-slider__thumb-container--show-label":this.showThumbLabel},style:this.getThumbContainerStyles(t),attrs:{role:"slider",tabindex:this.isDisabled?-1:this.$attrs.tabindex?this.$attrs.tabindex:0,"aria-label":this.$attrs["aria-label"]||this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue,"aria-readonly":String(this.isReadonly),"aria-orientation":this.vertical?"vertical":"horizontal"},on:{focus:o,blur:l,keydown:this.onKeyDown}}),h)},genThumbLabelContent:function(e){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:e}):[this.$createElement("span",[String(e)])]},genThumbLabel:function(content){var e=Object(_.g)(this.thumbSize),t=this.vertical?"translateY(20%) translateY(".concat(Number(this.thumbSize)/3-1,"px) translateX(55%) rotate(135deg)"):"translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)";return this.$createElement(c.c,{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label-container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:e,width:e,transform:t}}),[this.$createElement("div",content)])])])},genThumb:function(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},getThumbContainerStyles:function(e){var t=this.vertical?"top":"left",n=this.$vuetify.rtl?100-e:e;return n=this.vertical?100-n:n,Object(r.a)({transition:this.trackTransition},t,"".concat(n,"%"))},onSliderMouseDown:function(e){var t,n=this;if(e.preventDefault(),this.oldValue=this.internalValue,this.isActive=!0,null!=(t=e.target)&&t.matches(".v-slider__thumb-container, .v-slider__thumb-container *")){this.thumbPressed=!0;var r=e.target.getBoundingClientRect(),o="touches"in e?e.touches[0]:e;this.startOffset=this.vertical?o.clientY-(r.top+r.height/2):o.clientX-(r.left+r.width/2)}else this.startOffset=0,window.clearTimeout(this.mouseTimeout),this.mouseTimeout=window.setTimeout((function(){n.thumbPressed=!0}),300);var l=!_.v||{passive:!0,capture:!0},c=!!_.v&&{passive:!0},h="touches"in e;this.onMouseMove(e),this.app.addEventListener(h?"touchmove":"mousemove",this.onMouseMove,c),Object(_.a)(this.app,h?"touchend":"mouseup",this.onSliderMouseUp,l),this.$emit("start",this.internalValue)},onSliderMouseUp:function(e){e.stopPropagation(),window.clearTimeout(this.mouseTimeout),this.thumbPressed=!1;var t=!!_.v&&{passive:!0};this.app.removeEventListener("touchmove",this.onMouseMove,t),this.app.removeEventListener("mousemove",this.onMouseMove,t),this.$emit("mouseup",e),this.$emit("end",this.internalValue),Object(_.j)(this.oldValue,this.internalValue)||(this.$emit("change",this.internalValue),this.noClick=!0),this.isActive=!1},onMouseMove:function(e){"mousemove"===e.type&&(this.thumbPressed=!0),this.internalValue=this.parseMouseMove(e)},onKeyDown:function(e){if(this.isInteractive){var t=this.parseKeyDown(e,this.internalValue);null==t||t<this.minValue||t>this.maxValue||(this.internalValue=t,this.$emit("change",t))}},onSliderClick:function(e){this.noClick?this.noClick=!1:(this.$refs.thumb.focus(),this.onMouseMove(e),this.$emit("change",this.internalValue))},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},parseMouseMove:function(e){var t=this.vertical?"top":"left",n=this.vertical?"height":"width",r=this.vertical?"clientY":"clientX",o=this.$refs.track.getBoundingClientRect(),l=o[t],c=o[n],h="touches"in e?e.touches[0][r]:e[r],d=Math.min(Math.max((h-l-this.startOffset)/c,0),1)||0;return this.vertical&&(d=1-d),this.$vuetify.rtl&&(d=1-d),parseFloat(this.min)+d*(this.maxValue-this.minValue)},parseKeyDown:function(e,t){if(this.isInteractive){var n=_.r.pageup,r=_.r.pagedown,o=_.r.end,l=_.r.home,c=_.r.left,h=_.r.right,d=_.r.down,f=_.r.up;if([n,r,o,l,c,h,d,f].includes(e.keyCode)){e.preventDefault();var v=this.stepNumeric||1,m=(this.maxValue-this.minValue)/v;if([c,h,d,f].includes(e.keyCode))t+=((this.$vuetify.rtl?[c,f]:[h,f]).includes(e.keyCode)?1:-1)*v*(e.shiftKey?3:e.ctrlKey?2:1);else if(e.keyCode===l)t=this.minValue;else if(e.keyCode===o)t=this.maxValue;else{t-=(e.keyCode===r?1:-1)*v*(m>100?m/10:10)}return t}}},roundValue:function(e){if(!this.stepNumeric)return e;var t=this.step.toString().trim(),n=t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0,r=this.minValue%this.stepNumeric,o=Math.round((e-r)/this.stepNumeric)*this.stepNumeric+r;return parseFloat(Math.min(o,this.maxValue).toFixed(n))}}}),x=n(70),k=n(2),C=n(106),O=n(19),T=["a"];function I(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function P(e){e=S({},e);var t=Object(x.c)(e),n=Object(x.b)(e),r=Object(x.d)(e);return{alpha:e.a,hex:t.substr(0,7),hexa:t,hsla:n,hsva:e,hue:e.h,rgba:r}}function E(e){var t=Object(x.a)(e),n=Object(x.c)(t),r=Object(x.d)(t);return{alpha:t.a,hex:n.substr(0,7),hexa:n,hsla:e,hsva:t,hue:t.h,rgba:r}}function j(e){var t=Object(x.g)(e),n=Object(x.h)(e),r=Object(x.b)(t);return{alpha:t.a,hex:n.substr(0,7),hexa:n,hsla:r,hsva:t,hue:t.h,rgba:e}}function N(e){var t=Object(x.e)(e),n=Object(x.b)(t),r=Object(x.d)(t);return{alpha:t.a,hex:e.substr(0,7),hexa:e,hsla:n,hsva:t,hue:t.h,rgba:r}}function R(e){return N(Object(x.o)(e))}function A(e,t){return t.every((function(t){return e.hasOwnProperty(t)}))}function M(e,t){if(!e)return j({r:255,g:0,b:0,a:1});if("string"==typeof e){if("transparent"===e)return N("#00000000");var n=Object(x.o)(e);return t&&n===t.hexa?t:N(n)}if("object"===Object(O.a)(e)){if(e.hasOwnProperty("alpha"))return e;var a=e.hasOwnProperty("a")?parseFloat(e.a):1;if(A(e,["r","g","b"]))return t&&e===t.rgba?t:j(S(S({},e),{},{a:a}));if(A(e,["h","s","l"]))return t&&e===t.hsla?t:E(S(S({},e),{},{a:a}));if(A(e,["h","s","v"]))return t&&e===t.hsva?t:P(S(S({},e),{},{a:a}))}return j({r:255,g:0,b:0,a:1})}function D(e,t){if(t){e.a;return Object(C.a)(e,T)}return e}function F(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var $=k.a.extend({name:"v-color-picker-preview",props:{color:Object,disabled:Boolean,hideAlpha:Boolean},methods:{genAlpha:function(){var e=this;return this.genTrack({staticClass:"v-color-picker__alpha",props:{thumbColor:"grey lighten-2",hideDetails:!0,value:this.color.alpha,step:0,min:0,max:1},style:{backgroundImage:this.disabled?void 0:"linear-gradient(to ".concat(this.$vuetify.rtl?"left":"right",", transparent, ").concat(Object(x.i)(this.color.rgba),")")},on:{input:function(t){return e.color.alpha!==t&&e.$emit("update:color",P(L(L({},e.color.hsva),{},{a:t})))}}})},genSliders:function(){return this.$createElement("div",{staticClass:"v-color-picker__sliders"},[this.genHue(),!this.hideAlpha&&this.genAlpha()])},genDot:function(){return this.$createElement("div",{staticClass:"v-color-picker__dot"},[this.$createElement("div",{style:{background:Object(x.f)(this.color.rgba)}})])},genHue:function(){var e=this;return this.genTrack({staticClass:"v-color-picker__hue",props:{thumbColor:"grey lighten-2",hideDetails:!0,value:this.color.hue,step:0,min:0,max:360},on:{input:function(t){return e.color.hue!==t&&e.$emit("update:color",P(L(L({},e.color.hsva),{},{h:t})))}}})},genTrack:function(e){return this.$createElement(w,L(L({class:"v-color-picker__track"},e),{},{props:L({disabled:this.disabled},e.props)}))}},render:function(e){return e("div",{staticClass:"v-color-picker__preview",class:{"v-color-picker__preview--hide-alpha":this.hideAlpha}},[this.genDot(),this.genSliders()])}}),z=(n(539),k.a.extend({name:"v-color-picker-canvas",props:{color:{type:Object,default:function(){return j({r:255,g:0,b:0,a:1})}},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300}},data:function(){return{boundingRect:{width:0,height:0,left:0,top:0}}},computed:{dot:function(){return this.color?{x:this.color.hsva.s*parseInt(this.width,10),y:(1-this.color.hsva.v)*parseInt(this.height,10)}:{x:0,y:0}}},watch:{"color.hue":"updateCanvas"},mounted:function(){this.updateCanvas()},methods:{emitColor:function(e,t){var n=this.boundingRect,r=n.left,o=n.top,l=n.width,c=n.height;this.$emit("update:color",P({h:this.color.hue,s:Object(_.e)(e-r,0,l)/l,v:1-Object(_.e)(t-o,0,c)/c,a:this.color.alpha}))},updateCanvas:function(){if(this.color){var canvas=this.$refs.canvas,e=canvas.getContext("2d");if(e){var t=e.createLinearGradient(0,0,canvas.width,0);t.addColorStop(0,"hsla(0, 0%, 100%, 1)"),t.addColorStop(1,"hsla(".concat(this.color.hue,", 100%, 50%, 1)")),e.fillStyle=t,e.fillRect(0,0,canvas.width,canvas.height);var n=e.createLinearGradient(0,0,0,canvas.height);n.addColorStop(0,"hsla(0, 0%, 100%, 0)"),n.addColorStop(1,"hsla(0, 0%, 0%, 1)"),e.fillStyle=n,e.fillRect(0,0,canvas.width,canvas.height)}}},handleClick:function(e){this.disabled||(this.boundingRect=this.$el.getBoundingClientRect(),this.emitColor(e.clientX,e.clientY))},handleMouseDown:function(e){e.preventDefault(),this.disabled||(this.boundingRect=this.$el.getBoundingClientRect(),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},handleMouseMove:function(e){this.disabled||this.emitColor(e.clientX,e.clientY)},handleMouseUp:function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},genCanvas:function(){return this.$createElement("canvas",{ref:"canvas",attrs:{width:this.width,height:this.height}})},genDot:function(){var e=parseInt(this.dotSize,10)/2,t=Object(_.g)(this.dot.x-e),n=Object(_.g)(this.dot.y-e);return this.$createElement("div",{staticClass:"v-color-picker__canvas-dot",class:{"v-color-picker__canvas-dot--disabled":this.disabled},style:{width:Object(_.g)(this.dotSize),height:Object(_.g)(this.dotSize),transform:"translate(".concat(t,", ").concat(n,")")}})}},render:function(e){return e("div",{staticClass:"v-color-picker__canvas",style:{width:Object(_.g)(this.width),height:Object(_.g)(this.height)},on:{click:this.handleClick,mousedown:this.handleMouseDown}},[this.genCanvas(),this.genDot()])}})),U=n(27),B=(n(232),n(48),n(537),n(475)),V=n(129),W={rgba:{inputs:[["r",255,"int"],["g",255,"int"],["b",255,"int"],["a",1,"float"]],from:j},hsla:{inputs:[["h",360,"int"],["s",1,"float"],["l",1,"float"],["a",1,"float"]],from:E},hexa:{from:N}},H=k.a.extend({name:"v-color-picker-edit",props:{color:Object,disabled:Boolean,hideAlpha:Boolean,hideModeSwitch:Boolean,mode:{type:String,default:"rgba",validator:function(e){return Object.keys(W).includes(e)}}},data:function(){return{modes:W,internalMode:this.mode}},computed:{currentMode:function(){return this.modes[this.internalMode]}},watch:{mode:function(e){this.internalMode=e}},created:function(){this.internalMode=this.mode},methods:{getValue:function(e,t){return"float"===t?Math.round(100*e)/100:"int"===t?Math.round(e):0},parseValue:function(e,t){return"float"===t?parseFloat(e):"int"===t&&parseInt(e,10)||0},changeMode:function(){var e=Object.keys(this.modes),t=e.indexOf(this.internalMode),n=e[(t+1)%e.length];this.internalMode=n,this.$emit("update:mode",n)},genInput:function(e,t,n,r){return this.$createElement("div",{staticClass:"v-color-picker__input"},[this.$createElement("input",{key:e,attrs:t,domProps:{value:n},on:r}),this.$createElement("span",e.toUpperCase())])},genInputs:function(){var e=this;if("hexa"===this.internalMode){var t=this.color.hexa,n=this.hideAlpha&&t.endsWith("FF")?t.substr(0,7):t;return this.genInput("hex",{maxlength:this.hideAlpha?7:9,disabled:this.disabled},n,{change:function(t){var n=t.target;e.$emit("update:color",e.currentMode.from(Object(x.o)(n.value)))}})}return(this.hideAlpha?this.currentMode.inputs.slice(0,-1):this.currentMode.inputs).map((function(t){var n=Object(U.a)(t,3),o=n[0],l=n[1],c=n[2],h=e.color[e.internalMode];return e.genInput(o,{type:"number",min:0,max:l,step:"float"===c?"0.01":"int"===c?"1":void 0,disabled:e.disabled},e.getValue(h[o],c),{input:function(t){var n=t.target,l=e.parseValue(n.value||"0",c);e.$emit("update:color",e.currentMode.from(Object.assign({},h,Object(r.a)({},o,l)),e.color.alpha))}})}))},genSwitch:function(){return this.$createElement(B.a,{props:{small:!0,icon:!0,disabled:this.disabled},on:{click:this.changeMode}},[this.$createElement(V.a,"$unfold")])}},render:function(e){return e("div",{staticClass:"v-color-picker__edit"},[this.genInputs(),!this.hideModeSwitch&&this.genSwitch()])}}),G=(n(545),n(235),Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"})),Y=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),K=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),X=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),Q=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),J=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),Z=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),ee=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),te=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),ne=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),ie=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),re=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),se=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),oe=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),ae=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),le=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),ce=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),he=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),ue=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),de=Object.freeze({black:"#000000",white:"#ffffff",transparent:"transparent"}),pe=Object.freeze({red:G,pink:Y,purple:K,deepPurple:X,indigo:Q,blue:J,lightBlue:Z,cyan:ee,teal:te,green:ne,lightGreen:ie,lime:re,yellow:se,amber:oe,orange:ae,deepOrange:le,brown:ce,blueGrey:he,grey:ue,shades:de}),fe=n(21);var _e=R("#FFFFFF").rgba,ve=R("#000000").rgba,ge=Object(h.a)(fe.a).extend({name:"v-color-picker-swatches",props:{swatches:{type:Array,default:function(){return function(e){return Object.keys(e).map((function(t){var n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]}))}(pe)}},disabled:Boolean,color:Object,maxWidth:[Number,String],maxHeight:[Number,String]},methods:{genColor:function(e){var t=this,content=this.$createElement("div",{style:{background:e}},[Object(_.j)(this.color,M(e,null))&&this.$createElement(V.a,{props:{small:!0,dark:Object(x.l)(this.color.rgba,_e)>2&&this.color.alpha>.5,light:Object(x.l)(this.color.rgba,ve)>2&&this.color.alpha>.5}},"$success")]);return this.$createElement("div",{staticClass:"v-color-picker__color",on:{click:function(){return t.disabled||t.$emit("update:color",R("transparent"===e?"#00000000":e))}}},[content])},genSwatches:function(){var e=this;return this.swatches.map((function(t){var n=t.map(e.genColor);return e.$createElement("div",{staticClass:"v-color-picker__swatch"},n)}))}},render:function(e){return e("div",{staticClass:"v-color-picker__swatches",style:{maxWidth:Object(_.g)(this.maxWidth),maxHeight:Object(_.g)(this.maxHeight)}},[this.$createElement("div",this.genSwatches())])}}),me=n(156);function be(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ye(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?be(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):be(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=Object(h.a)(me.a,fe.a).extend({name:"v-color-picker",props:{canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},flat:Boolean,hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,hideModeSwitch:Boolean,mode:{type:String,default:"rgba",validator:function(e){return Object.keys(W).includes(e)}},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},value:{type:[Object,String]},width:{type:[Number,String],default:300}},data:function(){return{internalValue:j({r:255,g:0,b:0,a:1})}},computed:{hideAlpha:function(){return!!this.value&&!((e=this.value)&&("string"==typeof e?e.length>7:"object"===Object(O.a)(e)&&(A(e,["a"])||A(e,["alpha"]))));var e}},watch:{value:{handler:function(e){this.updateColor(M(e,this.internalValue))},immediate:!0}},methods:{updateColor:function(e){this.internalValue=e;var t=function(e,input){if(null==input)return e;if("string"==typeof input)return 7===input.length?e.hex:e.hexa;if("object"===Object(O.a)(input)){var t="number"==typeof input.a&&0===input.a?!!input.a:!input.a;if(A(input,["r","g","b"]))return D(e.rgba,t);if(A(input,["h","s","l"]))return D(e.hsla,t);if(A(input,["h","s","v"]))return D(e.hsva,t)}return e}(this.internalValue,this.value);Object(_.j)(t,this.value)||(this.$emit("input",t),this.$emit("update:color",this.internalValue))},genCanvas:function(){return this.$createElement(z,{props:{color:this.internalValue,disabled:this.disabled,dotSize:this.dotSize,width:this.width,height:this.canvasHeight},on:{"update:color":this.updateColor}})},genControls:function(){return this.$createElement("div",{staticClass:"v-color-picker__controls"},[!this.hideSliders&&this.genPreview(),!this.hideInputs&&this.genEdit()])},genEdit:function(){var e=this;return this.$createElement(H,{props:{color:this.internalValue,disabled:this.disabled,hideAlpha:this.hideAlpha,hideModeSwitch:this.hideModeSwitch,mode:this.mode},on:{"update:color":this.updateColor,"update:mode":function(t){return e.$emit("update:mode",t)}}})},genPreview:function(){return this.$createElement($,{props:{color:this.internalValue,disabled:this.disabled,hideAlpha:this.hideAlpha},on:{"update:color":this.updateColor}})},genSwatches:function(){return this.$createElement(ge,{props:{dark:this.dark,light:this.light,disabled:this.disabled,swatches:this.swatches,color:this.internalValue,maxHeight:this.swatchesMaxHeight},on:{"update:color":this.updateColor}})}},render:function(e){return e(o.a,{staticClass:"v-color-picker",class:ye(ye({"v-color-picker--flat":this.flat},this.themeClasses),this.elevationClasses),props:{maxWidth:this.width}},[!this.hideCanvas&&this.genCanvas(),(!this.hideSliders||!this.hideInputs)&&this.genControls(),this.showSwatches&&this.genSwatches()])}})},662:function(e,t,n){"use strict";n(10),n(9),n(12),n(4),n(15),n(11),n(16);var r=n(1),o=(n(23),n(49),n(549),n(30),n(89),n(236),n(551),n(507)),l=n(475),c=n(129),h=n(177);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _=h.a.extend({name:"v-window",directives:{Touch:o.a},provide:function(){return{windowGroup:this}},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:Boolean,showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data:function(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive:function(){return this.transitionCount>0},classes:function(){return f(f({},h.a.options.computed.classes.call(this)),{},{"v-window--show-arrows-on-hover":this.showArrowsOnHover})},computedTransition:function(){if(!this.isBooted)return"";var e=this.vertical?"y":"x",t=(this.internalReverse?!this.isReverse:this.isReverse)?"-reverse":"";return"v-window-".concat(e).concat(t,"-transition")},hasActiveItems:function(){return Boolean(this.items.find((function(e){return!e.disabled})))},hasNext:function(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev:function(){return this.continuous||this.internalIndex>0},internalIndex:function(){var e=this;return this.items.findIndex((function(t,i){return e.internalValue===e.getValue(t,i)}))},internalReverse:function(){return this.$vuetify.rtl?!this.reverse:this.reverse}},watch:{internalIndex:function(e,t){this.isReverse=this.updateReverse(e,t)}},mounted:function(){var e=this;window.requestAnimationFrame((function(){return e.isBooted=!0}))},methods:{genDefaultSlot:function(){return this.$slots.default},genContainer:function(){var e=[this.genDefaultSlot()];return this.showArrows&&e.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},e)},genIcon:function(e,t,n){var r,o,h,d=this,f={click:function(e){e.stopPropagation(),d.changedByDelimiters=!0,n()}},_={"aria-label":this.$vuetify.lang.t("$vuetify.carousel.".concat(e))},v=null!=(r=null==(o=(h=this.$scopedSlots)[e])?void 0:o.call(h,{on:f,attrs:_}))?r:[this.$createElement(l.a,{props:{icon:!0},attrs:_,on:f},[this.$createElement(c.a,{props:{large:!0}},t)])];return this.$createElement("div",{staticClass:"v-window__".concat(e)},v)},genControlIcons:function(){var e=[],t=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&t&&"string"==typeof t){var n=this.genIcon("prev",t,this.prev);n&&e.push(n)}var r=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&r&&"string"==typeof r){var o=this.genIcon("next",r,this.next);o&&e.push(o)}return e},getNextIndex:function(e){var t=(e+1)%this.items.length;return this.items[t].disabled?this.getNextIndex(t):t},getPrevIndex:function(e){var t=(e+this.items.length-1)%this.items.length;return this.items[t].disabled?this.getPrevIndex(t):t},next:function(){if(this.hasActiveItems&&this.hasNext){var e=this.getNextIndex(this.internalIndex),t=this.items[e];this.internalValue=this.getValue(t,e)}},prev:function(){if(this.hasActiveItems&&this.hasPrev){var e=this.getPrevIndex(this.internalIndex),t=this.items[e];this.internalValue=this.getValue(t,e)}},updateReverse:function(e,t){var n=this.items.length,r=n-1;return n<=2?e<t:e===r&&0===t||(0!==e||t!==r)&&e<t}},render:function(e){var t=this,data={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){var n=this.touch||{left:function(){t.$vuetify.rtl?t.prev():t.next()},right:function(){t.$vuetify.rtl?t.next():t.prev()},end:function(e){e.stopPropagation()},start:function(e){e.stopPropagation()}};data.directives.push({name:"touch",value:n})}return e("div",data,[this.genContainer()])}}),v=n(307),m=h.a.extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return h.a.options.computed.classes.call(this)}},methods:{genData:h.a.options.methods.genData}}),y=n(0),w=n(8);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=_.extend({name:"v-carousel",props:{continuous:{type:Boolean,default:!0},cycle:Boolean,delimiterIcon:{type:String,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:function(e){return e>0}},mandatory:{type:Boolean,default:!0},progress:Boolean,progressColor:String,showArrows:{type:Boolean,default:!0},verticalDelimiters:{type:String,default:void 0}},provide:function(){return{parentTheme:this.theme}},data:function(){return{internalHeight:this.height,slideTimeout:void 0}},computed:{classes:function(){return k(k({},_.options.computed.classes.call(this)),{},{"v-carousel":!0,"v-carousel--hide-delimiter-background":this.hideDelimiterBackground,"v-carousel--vertical-delimiters":this.isVertical})},isDark:function(){return this.dark||!this.light},isVertical:function(){return null!=this.verticalDelimiters}},watch:{internalValue:"restartTimeout",interval:"restartTimeout",height:function(e,t){e!==t&&e&&(this.internalHeight=e)},cycle:function(e){e?this.restartTimeout():(clearTimeout(this.slideTimeout),this.slideTimeout=void 0)}},created:function(){this.$attrs.hasOwnProperty("hide-controls")&&Object(w.a)("hide-controls",':show-arrows="false"',this)},mounted:function(){this.startTimeout()},methods:{genControlIcons:function(){return this.isVertical?null:_.options.methods.genControlIcons.call(this)},genDelimiters:function(){return this.$createElement("div",{staticClass:"v-carousel__controls",style:{left:"left"===this.verticalDelimiters&&this.isVertical?0:"auto",right:"right"===this.verticalDelimiters?0:"auto"}},[this.genItems()])},genItems:function(){for(var e=this,t=this.items.length,n=[],i=0;i<t;i++){var r=this.$createElement(l.a,{staticClass:"v-carousel__controls__item",attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel.ariaLabel.delimiter",i+1,t)},props:{icon:!0,small:!0,value:this.getValue(this.items[i],i)}},[this.$createElement(c.a,{props:{size:18}},this.delimiterIcon)]);n.push(r)}return this.$createElement(m,{props:{value:this.internalValue,mandatory:this.mandatory},on:{change:function(t){e.internalValue=t}}},n)},genProgress:function(){return this.$createElement(v.a,{staticClass:"v-carousel__progress",props:{color:this.progressColor,value:(this.internalIndex+1)/this.items.length*100}})},restartTimeout:function(){this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=void 0,window.requestAnimationFrame(this.startTimeout)},startTimeout:function(){this.cycle&&(this.slideTimeout=window.setTimeout(this.next,+this.interval>0?+this.interval:6e3))}},render:function(e){var t=_.options.render.call(this,e);return t.data.style="height: ".concat(Object(y.g)(this.height),";"),this.hideDelimiters||t.children.push(this.genDelimiters()),(this.progress||this.progressColor)&&t.children.push(this.genProgress()),t}})},663:function(e,t,n){"use strict";n(10),n(9),n(12),n(4),n(15),n(11),n(16),n(40),n(56),n(41),n(28),n(68),n(72),n(43);var r=n(1),o=(n(510),n(39),n(30),n(48),n(547),n(129)),l=n(105),c=n(177),h=(n(23),n(8)),d=n(2).a.extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default:function(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:function(e){return!isNaN(Number(e))||["xs","sm","md","lg","xl"].includes(String(e))}}},computed:{isMobile:function(){var e=this.$vuetify.breakpoint,t=e.mobile,n=e.width,r=e.name;if(e.mobileBreakpoint===this.mobileBreakpoint)return t;var o=parseInt(this.mobileBreakpoint,10);return!isNaN(o)?n<o:r===this.mobileBreakpoint}},created:function(){this.$attrs.hasOwnProperty("mobile-break-point")&&Object(h.d)("mobile-break-point","mobile-breakpoint",this)}}),f=n(176),_=n(507),v=n(6),m=n(0);function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function C(e){var t=Math.abs(e);return Math.sign(e)*(t/((1/.501-2)*(1-t)+1))}function O(e,t,n,r){var o=e.clientWidth,l=n?t.content-e.offsetLeft-o:e.offsetLeft;n&&(r=-r);var c=t.wrapper+r,h=o+l,d=.4*o;return l<=r?r=Math.max(l-d,0):c<=h&&(r=Math.min(r-(c-h-d),t.content-t.wrapper)),n?-r:r}var T=Object(v.a)(c.a,d).extend({name:"base-slide-group",directives:{Resize:f.a,Touch:_.a},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:function(e){return"boolean"==typeof e||["always","desktop","mobile"].includes(e)}}},data:function(){return{isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}},computed:{canTouch:function(){return"undefined"!=typeof window},__cachedNext:function(){return this.genTransition("next")},__cachedPrev:function(){return this.genTransition("prev")},classes:function(){return k(k({},c.a.options.computed.classes.call(this)),{},{"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing})},hasAffixes:function(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext:function(){if(!this.hasAffixes)return!1;var e=this.widths,content=e.content,t=e.wrapper;return content>Math.abs(this.scrollOffset)+t},hasPrev:function(){return this.hasAffixes&&0!==this.scrollOffset}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset:function(e){this.$vuetify.rtl&&(e=-e);var t=e<=0?C(-e):e>this.widths.content-this.widths.wrapper?-(this.widths.content-this.widths.wrapper)+C(this.widths.content-this.widths.wrapper-e):-e;this.$vuetify.rtl&&(t=-t),this.$refs.content.style.transform="translateX(".concat(t,"px)")}},mounted:function(){var e=this;if("undefined"!=typeof ResizeObserver){var t=new ResizeObserver((function(){e.onResize()}));t.observe(this.$el),t.observe(this.$refs.content),this.$on("hook:destroyed",(function(){t.disconnect()}))}else{var n=0;this.$on("hook:beforeUpdate",(function(){var t;n=((null==(t=e.$refs.content)?void 0:t.children)||[]).length})),this.$on("hook:updated",(function(){var t;n!==((null==(t=e.$refs.content)?void 0:t.children)||[]).length&&e.setWidths()}))}},methods:{onScroll:function(){this.$refs.wrapper.scrollLeft=0},onFocusin:function(e){if(this.isOverflowing){var t,n=y(Object(m.f)(e));try{for(n.s();!(t=n.n()).done;){var r,o=t.value,l=y(this.items);try{for(l.s();!(r=l.n()).done;){var c=r.value;if(c.$el===o)return void(this.scrollOffset=O(c.$el,this.widths,this.$vuetify.rtl,this.scrollOffset))}}catch(e){l.e(e)}finally{l.f()}}}catch(e){n.e(e)}finally{n.f()}}},genNext:function(){var e=this,slot=this.$scopedSlots.next?this.$scopedSlots.next({}):this.$slots.next||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:function(){return e.onAffixClick("next")}},key:"next"},[slot])},genContent:function(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content",on:{focusin:this.onFocusin}},this.$slots.default)},genData:function(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon:function(e){var t=e;this.$vuetify.rtl&&"prev"===e?t="next":this.$vuetify.rtl&&"next"===e&&(t="prev");var n="".concat(e[0].toUpperCase()).concat(e.slice(1)),r=this["has".concat(n)];return this.showArrows||r?this.$createElement(o.a,{props:{disabled:!r}},this["".concat(t,"Icon")]):null},genPrev:function(){var e=this,slot=this.$scopedSlots.prev?this.$scopedSlots.prev({}):this.$slots.prev||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:function(){return e.onAffixClick("prev")}},key:"prev"},[slot])},genTransition:function(e){return this.$createElement(l.b,[this.genIcon(e)])},genWrapper:function(){var e=this;return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:function(t){return e.overflowCheck(t,e.onTouchStart)},move:function(t){return e.overflowCheck(t,e.onTouchMove)},end:function(t){return e.overflowCheck(t,e.onTouchEnd)}}}],ref:"wrapper",on:{scroll:this.onScroll}},[this.genContent()])},calculateNewOffset:function(e,t,n,r){var o=n?-1:1,l=o*r+("prev"===e?-1:1)*t.wrapper;return o*Math.max(Math.min(l,t.content-t.wrapper),0)},onAffixClick:function(e){this.$emit("click:".concat(e)),this.scrollTo(e)},onResize:function(){this._isDestroyed||this.setWidths()},onTouchStart:function(e){var content=this.$refs.content;this.startX=this.scrollOffset+e.touchstartX,content.style.setProperty("transition","none"),content.style.setProperty("willChange","transform")},onTouchMove:function(e){if(this.canTouch){if(!this.isSwiping){var t=e.touchmoveX-e.touchstartX,n=e.touchmoveY-e.touchstartY;this.isSwipingHorizontal=Math.abs(t)>Math.abs(n),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-e.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd:function(){if(this.canTouch){var e=this.$refs,content=e.content,t=e.wrapper,n=content.clientWidth-t.clientWidth;content.style.setProperty("transition",null),content.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-n&&(this.scrollOffset=-n):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=n&&(this.scrollOffset=n),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")}},overflowCheck:function(e,t){e.stopPropagation(),this.isOverflowing&&t(e)},scrollIntoView:function(){if(!this.selectedItem&&this.items.length){var e=this.items[this.items.length-1].$el.getBoundingClientRect(),t=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&t.right<e.right||!this.$vuetify.rtl&&t.left>e.left)&&this.scrollTo("prev")}this.selectedItem&&(0===this.selectedIndex||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=function(e,t,n){var r=e.offsetLeft,o=e.clientWidth;if(n){var l=t.content-r-o/2-t.wrapper/2;return-Math.min(t.content-t.wrapper,Math.max(0,l))}var c=r+o/2-t.wrapper/2;return Math.min(t.content-t.wrapper,Math.max(0,c))}(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=O(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},scrollTo:function(e){this.scrollOffset=this.calculateNewOffset(e,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths:function(){var e=this;window.requestAnimationFrame((function(){if(!e._isDestroyed){var t=e.$refs,content=t.content,n=t.wrapper;e.widths={content:content?content.clientWidth:0,wrapper:n?n.clientWidth:0},e.isOverflowing=e.widths.wrapper+1<e.widths.content,e.scrollIntoView()}}))}},render:function(e){return e("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}});t.a=T.extend({name:"v-slide-group",provide:function(){return{slideGroup:this}}})},664:function(e,t,n){"use strict";var r=n(1),o=n(157),l=n(6),c=n(8),h=n(2).a.extend({props:{activeClass:String,value:{required:!1}},data:function(){return{isActive:!1}},methods:{toggle:function(){this.isActive=!this.isActive}},render:function(){return this.$scopedSlots.default?(this.$scopedSlots.default&&(element=this.$scopedSlots.default({active:this.isActive,toggle:this.toggle})),Array.isArray(element)&&1===element.length&&(element=element[0]),element&&!Array.isArray(element)&&element.tag?(element.data=this._b(element.data||{},element.tag,{class:Object(r.a)({},this.activeClass,this.isActive)}),element):(Object(c.c)("v-item should only contain a single element",this),element)):(Object(c.c)("v-item is missing a default scopedSlot",this),null);var element}});Object(l.a)(h,Object(o.a)("itemGroup","v-item","v-item-group")).extend({name:"v-item"}),t.a=Object(l.a)(h,Object(o.a)("slideGroup")).extend({name:"v-slide-item"})},665:function(e,t,n){"use strict";n(10),n(9),n(12),n(4),n(15),n(11),n(16);var r=n(1),o=n(178),l=n(157),c=n(507),h=n(0),d=n(6),f=Object(d.a)(o.a,Object(l.a)("windowGroup","v-window-item","v-window")).extend().extend().extend({name:"v-window-item",directives:{Touch:c.a},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?void 0!==this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:void 0!==this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(h.g)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(e){var t=this;this.inTransition&&this.$nextTick((function(){t.computedTransition&&t.inTransition&&(t.windowGroup.transitionHeight=Object(h.g)(e.clientHeight))}))}},render:function(e){var t=this;return e("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((function(){return[t.genWindowItem()]})))}}),_=n(315),v=n(77);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w=Object(d.a)(f,v.a);t.a=w.extend().extend({name:"v-carousel-item",inject:{parentTheme:{default:{isDark:!1}}},provide:function(){return{theme:this.parentTheme}},inheritAttrs:!1,methods:{genDefaultSlot:function(){return[this.$createElement(_.a,{staticClass:"v-carousel__item",props:y(y({},this.$attrs),{},{height:this.windowGroup.internalHeight}),on:this.$listeners,scopedSlots:{placeholder:this.$scopedSlots.placeholder}},Object(h.n)(this))]},genWindowItem:function(){var e=this.generateRouteLink(),t=e.tag,data=e.data;return data.staticClass="v-window-item",data.directives.push({name:"show",value:this.isActive}),this.$createElement(t,data,this.genDefaultSlot())}}})}}]);